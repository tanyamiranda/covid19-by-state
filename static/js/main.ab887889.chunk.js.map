{"version":3,"sources":["serviceWorker.js","utilities/data-fields.js","utilities/data-processing.js","redux/chart-config/chart-config.types.js","components/chart-config/chart-config.component.jsx","redux/chart-config/chart-config.actions.js","components/chart-display/chart-display.component.jsx","components/state-history-chart/state-history-chart.component.jsx","components/spinner/spinner.styles.jsx","components/spinner/spinner.component.jsx","components/mobile-message/mobile-message.component.jsx","components/us-history-chart/us-history-chart.component.jsx","components/dashboard/dashboard.component.jsx","App.js","redux/chart-config/chart-config.reducer.js","redux/root-reducer.js","redux/store.js","index.js"],"names":["Boolean","window","location","hostname","match","DATE_RANGES","15","30","45","60","CHART_OPTIONS","responsive","title","display","tooltips","mode","intersect","hover","scales","xAxes","scaleLabel","labelString","yAxes","DATA_FIELD_COLORS","US_STATES_DATA","ALL","AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MP","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY","DATA_FIELD_GROUPS","testing","patient","cumulative","increase","DEFAULT_DATA_FIELD","getDateListFromData","stateData","datesList","map","item","date","filter","value","index","self","indexOf","newDateList","forEach","dateString","String","month","Number","substring","day","push","getChartDataset","fieldNames","fieldDatasets","fieldName","label","fill","backgroundColor","borderColor","data","dayRecord","find","getStatesInfo","stateInfo","stateNames","state","name","website","covid19Site","twitter","notes","getFormattedDateForFiltering","d","Date","getMonth","getDate","year","getFullYear","length","getFreshData","a","historyData","countryData","fetch","stateInfoRes","ok","json","Error","statusText","historicalDataRes","statesCurrentDataRes","grade","dataQualityGrade","countryDataRes","statesHistoryData","stateInformation","countryHistoryData","console","log","ChartConfigTypes","SET_STATE_SELECTION","SET_DATE_RANGE_SELECTION","SET_FIELD_SELECTION","SET_COVID19_DATA","connect","selectedState","chartConfig","selectedDateRange","selectedFields","dispatch","setStateSelection","userSelectedState","type","payload","setDateRangeSelection","userSelectedDateRange","setFieldSelection","userSelectedFields","fieldGroups","Object","keys","dateRangeKeys","stateKeys","handleFieldSelection","event","checkedValue","target","checked","currentSelectedFields","handleGroupSelection","group","id","className","defaultValue","onChange","key","onClick","field","currentLineChart","ChartDisplay","React","Component","chartRef","createRef","loadChart","this","props","chartType","chartOptions","chartLabels","chartDataSet","destroy","stateChartRef","current","getContext","Chart","labels","datasets","options","componentDidMount","componentDidUpdate","render","ref","now","setDate","dateValue","startFromDate","sort","b","dateList","open","SpinnerOverlay","styled","div","SpinnerContainer","Spinner","MobileMessage","getCountryHistoryData","dataRefreshedTimestamp","setCOVID19Data","useEffect","freshData","loadData","App","INITIAL_STATE","chartConfigReducer","action","toLocaleString","combineReducers","store","createStore","rootReducer","applyMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ab887889.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const DATE_RANGES = {\r\n    15: \"Last 15 days\",\r\n    30: \"Last 30 days\",\r\n    45: \"Last 45 days\",\r\n    60: \"Last 60 days\"\r\n}\r\n\r\nexport const CHART_OPTIONS = {\r\n    responsive: true,\r\n    title: { display: false},\r\n    tooltips: {mode: 'index', intersect: false},\r\n    hover: {mode: 'nearest', intersect: true},\r\n    scales: {\r\n        xAxes: [{\r\n            display: true,\r\n            scaleLabel: {\r\n                display: true,\r\n                labelString: 'Day'\r\n            }\r\n        }],\r\n        yAxes: [{\r\n            display: true,\r\n            scaleLabel: {\r\n                display: true,\r\n                labelString: 'Value'\r\n            }\r\n        }]\r\n    }\r\n}\r\n\r\nexport const DATA_FIELD_COLORS = [\r\n    '#138E05',\r\n    '#A15B81',\r\n    '#2E16A6',\r\n    '#146AD4',\r\n    '#A9D422',\r\n    '#18F8BB',\r\n    '#AFC044',\r\n    '#3B9793',\r\n    '#822611',\r\n    '#FB2E76',\r\n    '#A5CA71',\r\n    '#983538',\r\n    '#082BD9',\r\n    '#2E136A',\r\n    '#05BB78',\r\n    '#44A4AD',\r\n    '#28FD7E',\r\n    '#387862'\r\n];\r\n\r\nexport const US_STATES_DATA = {\r\n    ALL:\"All States (default)\",\r\n    AK:\"Alaska\",\r\n    AL:\"Alabama\",\r\n    AR:\"Arkansas\",\r\n    AS:\"American Samoa\",\r\n    AZ:\"Arizona\",\r\n    CA:\"California\", \r\n    CO:\"Colorado\", \r\n    CT:\"Connecticut\", \r\n    DC:\"District Of Columbia\",\r\n    DE:\"Delaware\", \r\n    FL:\"Florida\", \r\n    GA:\"Georgia\",\r\n    GU:\"Guam\", \r\n    HI:\"Hawaii\", \r\n    IA:\"Iowa\", \r\n    ID:\"Idaho\", \r\n    IL:\"Illinois\", \r\n    IN:\"Indiana\", \r\n    KS:\"Kansas\", \r\n    KY:\"Kentucky\", \r\n    LA:\"Louisiana\", \r\n    MA:\"Massachusetts\",\r\n    MD:\"Maryland\", \r\n    ME:\"Maine\", \r\n    MI:\"Michigan\",\r\n    MN:\"Minnesota\",\r\n    MO:\"Missouri\", \r\n    MP:\"Northern Mariana Islands\",\r\n    MS:\"Mississippi\", \r\n    MT:\"Montana\", \r\n    NC:\"North Carolina\", \r\n    ND:\"North Dakota\", \r\n    NE:\"Nebraska\", \r\n    NH:\"New Hampshire\", \r\n    NJ:\"New Jersey\", \r\n    NM:\"New Mexico\", \r\n    NV:\"Nevada\", \r\n    NY:\"New York\", \r\n    OH:\"Ohio\", \r\n    OK:\"Oklahoma\", \r\n    OR:\"Oregon\", \r\n    PA:\"Pennsylvania\", \r\n    PR:\"Puerto Rico\", \r\n    RI:\"Rhode Island\",\r\n    SC:\"South Carolina\", \r\n    SD:\"South Dakota\", \r\n    TN:\"Tennessee\", \r\n    TX:\"Texas\", \r\n    UT:\"Utah\", \r\n    VA:\"Virginia\", \r\n    VI:\"US Virgin Islands\", \r\n    VT:\"Vermont\", \r\n    WA:\"Washington\", \r\n    WI:\"Wisconsin\", \r\n    WV:\"West Virginia\", \r\n    WY:\"Wyoming\"\r\n}\r\n\r\n\r\nexport const DATA_FIELD_GROUPS = {\r\n    \r\n    testing:[\r\n        \"positive\",\r\n        \"negative\",\r\n        \"pending\",\r\n        \"totalTestResults\"\r\n    ],\r\n    patient: [\r\n        \"hospitalizedCurrently\",\r\n        \"inIcuCurrently\",\r\n        \"onVentilatorCurrently\",\r\n        \"death\",\r\n        \"recovered\"\r\n    ],\r\n    cumulative: [\r\n        \"hospitalizedCumulative\",\r\n        \"inIcuCumulative\",\r\n        \"onVentilatorCumulative\"\r\n    ],\r\n    increase: [\r\n        \"deathIncrease\",\r\n        \"hospitalizedIncrease\",\r\n        \"negativeIncrease\",\r\n        \"positiveIncrease\",\r\n        \"totalTestResultsIncrease\"\r\n    ]\r\n};\r\n\r\nexport const DATA_FIELD_DISPLAY_NAMES = {\r\n    \r\n    positive: \"Positive Result\",\r\n    negative: \"Negative Result\",\r\n    totalTestResults: \"Total Test Results\",\r\n    pending: \"Pending\",\r\n    death: \"Death\", \r\n    recovered: \"Recovered\",\r\n    hospitalizedCurrently: \"Currently Hospitalized\",\r\n    inIcuCurrently: \"Currently In ICU\",\r\n    onVentilatorCurrently: \"Currently On Ventilator\",\r\n    hospitalizedCumulative: \"Hospitalized Cumulative\",\r\n    inIcuCumulative: \"In ICU Cumulative\",\r\n    onVentilatorCumulative: \"On Ventilator Cumulative\",    \r\n    deathIncrease: \"Death Increases\",\r\n    hospitalizedIncrease: \"Hospitalized Increases\",\r\n    negativeIncrease: \"Negative Increases\",\r\n    positiveIncrease: \"Positive Increases\",\r\n    totalTestResultsIncrease: \"Total Test Results Increases\"\r\n}\r\n\r\nexport const DEFAULT_DATA_FIELD = [\r\n    \"positive\",\r\n    \"negative\",\r\n    \"pending\",\r\n    \"totalTestResults\"\r\n]","import {DATA_FIELD_COLORS} from './data-fields';\r\n\r\nexport const getDateListFromData = (stateData) => {\r\n\r\n    const datesList = stateData.map(item => item.date)\r\n        .filter((value, index, self) => self.indexOf(value) === index);\r\n\r\n    const newDateList = [];\r\n\r\n    datesList.forEach(item => {\r\n        var dateString = String(item);\r\n        var month = Number(dateString.substring(4,6));\r\n        var day = Number(dateString.substring(6,8));\r\n\r\n        newDateList.push(month + \"/\" + day);\r\n    });\r\n\r\n    return newDateList;\r\n}\r\n\r\nexport const getHistoryByState = (stateHistoryData, state, startFromDate) => {\r\n\r\n    return stateHistoryData\r\n        .filter(stateData => stateData.state === state && stateData.date >= startFromDate )\r\n        .sort(function (a, b) {\r\n            return a.date - b.date;\r\n        });\r\n    \r\n}    \r\n\r\nexport const getChartDataset = (stateData, fieldNames) => {\r\n\r\n    const fieldDatasets = [];\r\n\r\n    // Initialize the datasets for each field.\r\n    fieldNames.forEach ((fieldName, index) => {\r\n        fieldDatasets.push({\r\n            label: fieldName,\r\n            fill: false,\r\n            backgroundColor: DATA_FIELD_COLORS[index],\r\n            borderColor: DATA_FIELD_COLORS[index],\r\n            data: []\r\n        })\r\n    })\r\n\r\n    stateData.forEach(dayRecord => {\r\n        fieldNames.forEach (fieldName => {\r\n            const fieldData = fieldDatasets.find((data => data.label === fieldName))    \r\n            fieldData.data.push(!dayRecord[fieldName] ? 0 : dayRecord[fieldName]);\r\n        })\r\n    });\r\n\r\n    return fieldDatasets;\r\n}\r\n\r\n\r\nexport const getStatesInfo = (stateInfo) => {\r\n    \r\n    const stateNames = []; \r\n\r\n    stateInfo.forEach(data => {\r\n        stateNames[data.state] = {\r\n            name: data.name,\r\n            website: data.covid19Site,\r\n            twitter: data.twitter,\r\n            notes: data.notes\r\n        }\r\n    })\r\n    \r\n    return stateNames;\r\n}\r\n\r\n\r\nexport const getFormattedDateForFiltering = (date) => {\r\n    var d = new Date(date);\r\n    let month = '' + (d.getMonth() + 1);\r\n    let day = '' + d.getDate();\r\n    let year = d.getFullYear();\r\n\r\n    if (month.length < 2) \r\n        month = '0' + month;\r\n    if (day.length < 2) \r\n        day = '0' + day;\r\n    return year + month + day;\r\n}\r\n\r\nexport const getFreshData = async() => {\r\n    \r\n    //console.log(\"Fetching Data from https://covidtracking.com/...\");\r\n\r\n    let historyData = null;\r\n    let stateInfo = null;\r\n    let countryData = null;\r\n\r\n    try {\r\n\r\n        const stateInfoRes = await fetch('https://covidtracking.com/api/v1/states/info.json');\r\n        if (stateInfoRes.ok) {\r\n            \r\n            const json = await stateInfoRes.json();\r\n            stateInfo = getStatesInfo(json);\r\n        }\r\n        else {\r\n            throw Error(stateInfoRes.statusText);\r\n        }\r\n\r\n        const historicalDataRes = await fetch('https://covidtracking.com/api/v1/states/daily.json');\r\n        if (historicalDataRes.ok) {\r\n            \r\n            const json = await historicalDataRes.json();\r\n            historyData = json;\r\n        }\r\n        else {\r\n            throw Error(historicalDataRes.statusText);\r\n        }\r\n\r\n        const statesCurrentDataRes = await fetch('https://covidtracking.com/api/v1/states/current.json');\r\n        if (statesCurrentDataRes.ok) {\r\n            \r\n            const json = await statesCurrentDataRes.json();\r\n            json.forEach(data => {\r\n                stateInfo[data.state].grade = data.dataQualityGrade\r\n            });\r\n        }\r\n        else {\r\n            throw Error(statesCurrentDataRes.statusText);\r\n        }\r\n\r\n        const countryDataRes = await fetch('https://covidtracking.com/api/v1/us/daily.json');\r\n        if (countryDataRes.ok) {\r\n            \r\n            const json = await countryDataRes.json();\r\n            countryData = json;\r\n        }\r\n        else {\r\n            throw Error(countryDataRes.statusText);\r\n        }\r\n\r\n        return {\r\n            statesHistoryData: historyData,\r\n            stateInformation: stateInfo,\r\n            countryHistoryData: countryData\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const getCountryHistoryData = (countryHistoryData, startFromDate) => {\r\n\r\n    return countryHistoryData\r\n        .filter(data => data.date >= startFromDate )\r\n        .sort(function (a, b) {\r\n            return a.date - b.date;\r\n        });\r\n    \r\n}","const ChartConfigTypes = {\r\n    SET_STATE_SELECTION : \"SET_STATE_SELECTION\",\r\n    SET_DATE_RANGE_SELECTION : \"SET_DATE_RANGE_SELECTION\",\r\n    SET_FIELD_SELECTION : \"SET_FIELD_SELECTION\",\r\n\r\n    SET_COVID19_DATA : \"SET_COVID19_DATA\"\r\n\r\n};\r\n\r\nexport default ChartConfigTypes;","import React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport './chart-config.css';\r\n\r\nimport {DATE_RANGES,US_STATES_DATA,DATA_FIELD_GROUPS} from '../../utilities/data-fields';\r\nimport {setDateRangeSelection, setStateSelection, setFieldSelection} from '../../redux/chart-config/chart-config.actions';\r\n\r\nconst ChartConfiguration = ({selectedState, selectedDateRange, selectedFields, setStateSelection, setDateRangeSelection, setFieldSelection}) => {\r\n\r\n    //console.log(\"ChartConfiguration()...\");\r\n    //console.log(\"selectedState=\",selectedState);\r\n    //console.log(\"selectedDateRange=\",selectedDateRange);\r\n    //console.log(\"selectedFields=\",selectedFields);\r\n\r\n    const fieldGroups = Object.keys(DATA_FIELD_GROUPS);\r\n    const dateRangeKeys = Object.keys(DATE_RANGES);\r\n    const stateKeys = Object.keys(US_STATES_DATA);\r\n\r\n    const handleStateSelection = (event) => {\r\n        setStateSelection(event.target.value);\r\n    }\r\n    const handleDateRangeSelection = (event) => {\r\n        setDateRangeSelection(event.target.value);\r\n    }\r\n    const handleFieldSelection = (event) => {\r\n\r\n        const checkedValue = event.target.checked;\r\n        const fieldName = event.target.value;\r\n        let currentSelectedFields = null;\r\n\r\n        if (checkedValue) {\r\n            currentSelectedFields = [...selectedFields];\r\n            currentSelectedFields.push(fieldName);\r\n        }\r\n        else {\r\n            currentSelectedFields = selectedFields.filter(value => value !== fieldName);\r\n        }\r\n\r\n        setFieldSelection(currentSelectedFields);\r\n    }\r\n\r\n    const handleGroupSelection = (event) => {        \r\n        const group = event.target.id;\r\n        setFieldSelection(DATA_FIELD_GROUPS[group]);\r\n    }\r\n\r\n    return (\r\n        <div className=\"chart-configuration\">\r\n            <div className=\"top-section\">\r\n                <div className=\"config-section\">\r\n                    <div className=\"config-field\">State:</div>\r\n                    <select className=\"short-drop-down\" name=\"stateSelection\" defaultValue={selectedState} onChange={handleStateSelection}>\r\n                        {stateKeys.map ((item) => \r\n                            <option  key={item} value={item} >{US_STATES_DATA[item]}</option>\r\n                        )}\r\n                    </select>\r\n                </div>\r\n                <div className=\"config-section\">\r\n                    <div className=\"config-field\" >Date Range:</div>\r\n                    <select className=\"short-drop-down\" name=\"dateRangeSelection\" defaultValue={selectedDateRange}  onChange={handleDateRangeSelection}>\r\n                        {dateRangeKeys.map ((item) => \r\n                            <option key={item} value={item} >{DATE_RANGES[item]}</option>\r\n                        )}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className=\"config-section\">\r\n                <div className=\"config-field\">Data Fields:</div>\r\n                <div className=\"field-groups\">\r\n                {\r\n                    \r\n                    fieldGroups.map(group => \r\n                        \r\n                        <div className=\"config-field-group\" key={group}>\r\n                            <div className=\"group site-link\" id={group} onClick={handleGroupSelection}>{group} Data</div>\r\n                            {\r\n                            DATA_FIELD_GROUPS[group].map( field => (\r\n                                <div key={field}>\r\n                                    <input className=\"field-option\" type=\"checkbox\" name=\"field-selection\" \r\n                                        onChange={handleFieldSelection} \r\n                                        value={field}\r\n                                        checked = {selectedFields.indexOf(field) === -1 ? false : true}\r\n                                    />\r\n                                    <label name=\"field-selection\">{field}</label> \r\n                                </div>\r\n                            ))\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n                </div>\r\n            </div>            \r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedDateRange: state.chartConfig.selectedDateRange, \r\n    selectedFields: state.chartConfig.selectedFields\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n    setStateSelection: (userSelectedState) => dispatch(setStateSelection(userSelectedState)),\r\n    setDateRangeSelection: (userSelectedDateRange) => dispatch(setDateRangeSelection(userSelectedDateRange)),\r\n    setFieldSelection: (userSelectedFields) => dispatch(setFieldSelection(userSelectedFields))\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ChartConfiguration);","import ChartConfigTypes from './chart-config.types';\r\n\r\nexport const setStateSelection = (stateSelection) => ({\r\n    type : ChartConfigTypes.SET_STATE_SELECTION,\r\n    payload: stateSelection\r\n});\r\n\r\nexport const setDateRangeSelection = (dateRangeSelection) => ({\r\n    type : ChartConfigTypes.SET_DATE_RANGE_SELECTION,\r\n    payload: dateRangeSelection\r\n});\r\n\r\nexport const setFieldSelection = (fieldSelection) => ({\r\n    type : ChartConfigTypes.SET_FIELD_SELECTION,\r\n    payload: fieldSelection\r\n});\r\n\r\nexport const setCOVID19Data = (data) => ({\r\n    type : ChartConfigTypes.SET_COVID19_DATA,\r\n    payload: data\r\n});\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Chart from 'chart.js';\r\n\r\nimport './chart-display.css';\r\n\r\n// Necessary to be able to clear previous charts\r\nlet currentLineChart;\r\n\r\nclass ChartDisplay extends React.Component {  \r\n\r\n    chartRef = React.createRef();\r\n    \r\n    loadChart() {\r\n\r\n        const {chartType, chartOptions, chartLabels, chartDataSet} = this.props;\r\n\r\n        //console.log(\"loadChart()...\");\r\n        //console.log(\"chartType=\",chartType);\r\n        //console.log(\"chartOptions=\",chartOptions);\r\n        //console.log(\"chartLabels=\",chartLabels);\r\n        //console.log(\"chartDataset=\",chartDataSet);\r\n        \r\n        // Destroy previous chart if it exists \r\n        if (typeof currentLineChart !== \"undefined\") currentLineChart.destroy();\r\n\r\n        const stateChartRef = this.chartRef.current.getContext(\"2d\");\r\n\r\n        currentLineChart = new Chart(stateChartRef, {\r\n            type: chartType,\r\n            data: {\r\n                labels: chartLabels,\r\n                datasets: chartDataSet\r\n            },\r\n            options: chartOptions\r\n        });\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadChart();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.loadChart();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"chart-display\">    \r\n                <div className=\"chart\">\r\n                    <canvas id=\"myChart\" ref={this.chartRef} />                        \r\n                </div>\r\n            </div>            \r\n        )\r\n    }\r\n};\r\n\r\nexport default ChartDisplay;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './state-history-chart.css';\r\n\r\nimport {US_STATES_DATA, CHART_OPTIONS} from '../../utilities/data-fields';\r\nimport ChartDisplay from '../chart-display/chart-display.component';\r\n\r\nimport {\r\n    getHistoryByState, \r\n    getChartDataset, \r\n    getDateListFromData,\r\n    getFormattedDateForFiltering\r\n} from '../../utilities/data-processing';\r\n\r\nconst StateHistoryChart = ({statesHistoryData, stateInformation, selectedState, selectedFields, selectedDateRange}) => {  \r\n        \r\n    if (!statesHistoryData)\r\n        return;\r\n\r\n    //console.log(\"StateHistoryChart...\");\r\n    //console.log(\"statesHistoryData=\",statesHistoryData);\r\n    //console.log(\"selectedState=\",selectedState);\r\n    //console.log(\"selectedFields=\",selectedFields);\r\n    //console.log(\"selectedDateRange=\",selectedDateRange);\r\n\r\n    var now = new Date();\r\n    now.setDate(now.getDate() - Number(selectedDateRange));\r\n    const dateValue = getFormattedDateForFiltering(now);\r\n\r\n    const stateData = getHistoryByState(statesHistoryData, selectedState, dateValue); \r\n    const chartDataSet = getChartDataset(stateData, selectedFields);\r\n    const dateList = getDateListFromData(stateData);\r\n\r\n    return (\r\n        <div className=\"chart-container\">\r\n            <div className=\"chart-header\">Data for {US_STATES_DATA[selectedState]} last {selectedDateRange} days</div>\r\n            <ChartDisplay \r\n            chartType=\"line\"\r\n            chartOptions = {CHART_OPTIONS}\r\n            chartLabels = {dateList} \r\n            chartDataSet = {chartDataSet}\r\n            />      \r\n            <div className=\"chart-footer\"> \r\n                Data Quality Grade for {US_STATES_DATA[selectedState]}: &nbsp;&nbsp;<b>{stateInformation[selectedState].grade} **</b> <br/>\r\n                <span className=\"site-link\" onClick={()=> window.open(stateInformation[selectedState].website)}>{selectedState} COVID19 Website</span>&nbsp;&nbsp;&bull;&nbsp;&nbsp;\r\n                <span className=\"site-link\" onClick={()=> window.open('https://www.twitter.com/' + stateInformation[selectedState].twitter)}>Twitter</span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    stateInformation: state.chartConfig.stateInformation,\r\n    statesHistoryData: state.chartConfig.statesHistoryData,\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedDateRange: state.chartConfig.selectedDateRange, \r\n    selectedFields: state.chartConfig.selectedFields\r\n});\r\n\r\nexport default connect(mapStateToProps)(StateHistoryChart);","import styled from 'styled-components';\r\n\r\nexport const SpinnerOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SpinnerContainer = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 3px solid rgba(195, 195, 195, 0.6);\r\n  border-radius: 50%;\r\n  border-top-color: #636767;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport {SpinnerContainer, SpinnerOverlay} from './spinner.styles.jsx';\r\n\r\nconst Spinner = () => (\r\n    <SpinnerOverlay>\r\n        <SpinnerContainer/>\r\n    </SpinnerOverlay>\r\n);\r\n\r\nexport default Spinner;\r\n\r\n","import React from 'react'\r\n\r\nimport './mobile-message.css';\r\n\r\nconst MobileMessage = () => (\r\n    <div className=\"mobile-message\">\r\n        <div className=\"message\">Chart is too big for your screen.<br/> Turn your device sideways.</div>        \r\n        <div className=\"phone\">\r\n            <div className=\"phone-screen\"></div>\r\n            <div className=\"phone-button\"></div>\r\n        </div>\r\n    </div>\r\n)\r\nexport default MobileMessage;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './us-history-chart.css';\r\n\r\nimport ChartDisplay from '../chart-display/chart-display.component';\r\nimport {CHART_OPTIONS} from '../../utilities/data-fields';\r\nimport { \r\n    getCountryHistoryData,\r\n    getChartDataset, \r\n    getDateListFromData,\r\n    getFormattedDateForFiltering\r\n} from '../../utilities/data-processing';\r\n\r\nconst USHistoryChart = ({countryHistoryData, selectedFields, selectedDateRange}) => {  \r\n        \r\n    if (!countryHistoryData)\r\n        return;\r\n\r\n    //console.log(\"USHistoryChart()...\");\r\n    //console.log(\"countryHistoryData=\",countryHistoryData);\r\n    //console.log(\"selectedFields=\",selectedFields);\r\n    //console.log(\"selectedDateRange=\",selectedDateRange);\r\n\r\n    var now = new Date();\r\n    now.setDate(now.getDate() - Number(selectedDateRange));\r\n    const dateValue = getFormattedDateForFiltering(now);\r\n\r\n    const countryData = getCountryHistoryData(countryHistoryData, dateValue); \r\n    const chartDataSet = getChartDataset(countryData, selectedFields);\r\n    const dateList = getDateListFromData(countryData);\r\n\r\n    return (\r\n        <div className=\"chart-container\">\r\n            <div className=\"chart-header\">Data for All United States last {selectedDateRange} days</div>\r\n            <ChartDisplay \r\n                chartType=\"line\"\r\n                chartOptions = {CHART_OPTIONS}\r\n                chartLabels = {dateList} \r\n                chartDataSet = {chartDataSet}\r\n            />\r\n        </div>      \r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    countryHistoryData: state.chartConfig.countryHistoryData,\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedDateRange: state.chartConfig.selectedDateRange, \r\n    selectedFields: state.chartConfig.selectedFields\r\n});\r\n\r\nexport default connect(mapStateToProps)(USHistoryChart);","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport \"./dashboard.css\";\r\n\r\nimport {getFreshData} from '../../utilities/data-processing';\r\nimport {setCOVID19Data} from '../../redux/chart-config/chart-config.actions';\r\nimport ChartConfiguration from '../chart-config/chart-config.component';\r\nimport StateHistoryChart from '../state-history-chart/state-history-chart.component';\r\nimport Spinner from '../spinner/spinner.component';\r\nimport MobileMessage from '../mobile-message/mobile-message.component';\r\nimport USHistoryChart from '../us-history-chart/us-history-chart.component';\r\n\r\nconst Covid19UsDashboard =({setCOVID19Data, dataRefreshedTimestamp, selectedState, selectedDateRange,selectedFields}) => {  \r\n\r\n    useEffect(() => {\r\n\r\n        //console.log(\"useEffect()...\");\r\n        async function loadData() {\r\n            try {   \r\n                if (!dataRefreshedTimestamp) {\r\n                    //console.log(\"retrievingData()...\");\r\n                    const freshData = await getFreshData();\r\n\r\n                    const data = {\r\n                        statesHistoryData: freshData.statesHistoryData,\r\n                        stateInformation: freshData.stateInformation,\r\n                        countryHistoryData: freshData.countryHistoryData\r\n                    };\r\n                    setCOVID19Data(data);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        loadData();\r\n\r\n    },[setCOVID19Data,dataRefreshedTimestamp]);\r\n    \r\n    //console.log(\"dataRefreshedTimestamp=\",dataRefreshedTimestamp);\r\n    //console.log(\"selectedState=\",selectedState);\r\n    //console.log(\"selectedFields=\",selectedFields);\r\n    //console.log(\"selectedDateRange=\",selectedDateRange);\r\n\r\n    return (   \r\n\r\n        <div className=\"state-data-history\">\r\n            <div className=\"page-title\">Covid19 Data Charts for U.S. States</div>\r\n            { !dataRefreshedTimestamp ? ( \r\n                <Spinner />\r\n            ) : (\r\n                <div className=\"page-layout\">\r\n                    <MobileMessage />\r\n                    <ChartConfiguration />\r\n                    {selectedState === \"ALL\" ? (   \r\n                        <USHistoryChart />\r\n                    ) : (      \r\n                        <StateHistoryChart />\r\n                    )}\r\n                </div>\r\n            )}\r\n            <div className=\"page-footer\">\r\n                <b>** Data Quality Grade determined by The COVID Tracking Project </b><br/>\r\n                Not All States Report All Data<br/>\r\n                Historical Data Refreshed daily at 4:00 PM EST<br/>\r\n                ~ ~ ~<br/>\r\n                This is a visual representation of the data collected by The COVID Tracking Project<br/>\r\n                For more info, visit <span className=\"site-link\" onClick={()=> window.open(\"https://covidtracking.com/\")}>https://covidtracking.com/</span><br/>\r\n                For field definitions, visit <span className=\"site-link\" onClick={()=> window.open(\"https://covidtracking.com/api\")}>https://covidtracking.com/api</span><br/>\r\n            </div>\r\n        </div>\r\n    \r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    dataRefreshedTimestamp: state.chartConfig.dataRefreshedTimestamp,\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedDateRange: state.chartConfig.selectedDateRange, \r\n    selectedFields: state.chartConfig.selectedFields\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setCOVID19Data: (data) => dispatch(setCOVID19Data(data))\r\n});\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Covid19UsDashboard);","import React from 'react';\n\nimport Covid19UsDashboard from './components/dashboard/dashboard.component';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Covid19UsDashboard/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import ChartConfigTypes from './chart-config.types';\r\nimport {DEFAULT_DATA_FIELD} from '../../utilities/data-fields';\r\n\r\nconst INITIAL_STATE = {\r\n    statesHistoryData: null,\r\n    stateInformation: null,\r\n    countryHistoryData: null,\r\n    dataRefreshedTimestamp: null,\r\n    selectedState: null,\r\n    selectedDateRange: null,   \r\n    selectedFields: []    \r\n};\r\n\r\nconst chartConfigReducer = (state = INITIAL_STATE, action) => {\r\n\r\n    switch(action.type) {\r\n\r\n        case ChartConfigTypes.SET_COVID19_DATA: \r\n            return {\r\n                selectedState: \"ALL\",\r\n                selectedDateRange: \"30\",   \r\n                selectedFields: DEFAULT_DATA_FIELD,    \r\n                statesHistoryData: action.payload.statesHistoryData,\r\n                stateInformation: action.payload.stateInformation,\r\n                countryHistoryData: action.payload.countryHistoryData,\r\n                dataRefreshedTimestamp: (new Date()).toLocaleString()\r\n            }\r\n        case ChartConfigTypes.SET_STATE_SELECTION:\r\n            return {\r\n                ...state,\r\n                selectedState: action.payload\r\n            }\r\n        \r\n        case ChartConfigTypes.SET_FIELD_SELECTION:\r\n            return {\r\n                ...state,\r\n                selectedFields: action.payload\r\n            }\r\n        \r\n        case ChartConfigTypes.SET_DATE_RANGE_SELECTION:\r\n            return {\r\n                ...state,\r\n                selectedDateRange: action.payload\r\n            }\r\n        \r\n        default:\r\n            return state;\r\n        \r\n    }\r\n}\r\n\r\nexport default chartConfigReducer;","import {combineReducers} from 'redux';\r\n\r\nimport chartConfigReducer from './chart-config/chart-config.reducer';\r\n\r\nexport default combineReducers({\r\n    chartConfig: chartConfigReducer\r\n});\r\n","import {createStore, applyMiddleware} from 'redux';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nconst middlewareObjects = [];\r\n\r\n//Only use logger in development environement\r\nif (process.env.NODE_ENV === 'development') {\r\n    middlewareObjects.push(logger);\r\n}\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(...middlewareObjects));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\n\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}