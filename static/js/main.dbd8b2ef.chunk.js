(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{25:function(e,t,a){e.exports=a(48)},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),c=a(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(35);var o,l=a(5),u=a.n(l),d=a(8),f=(a(37),{15:"Last 15 days",30:"Last 30 days",45:"Last 45 days",60:"Last 60 days"}),m={responsive:!0,title:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Day"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}},h=["#138E05","#A15B81","#2E16A6","#146AD4","#A9D422","#18F8BB","#AFC044","#3B9793","#822611","#FB2E76","#A5CA71","#983538","#082BD9","#2E136A","#05BB78","#44A4AD","#28FD7E","#387862"],p={ALL:"All States (default)",AK:"Alaska",AL:"Alabama",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District Of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"US Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},E={testing:["positive","negative","pending","totalTestResults"],patient:["hospitalizedCurrently","inIcuCurrently","onVentilatorCurrently","death","recovered"],cumulative:["hospitalizedCumulative","inIcuCumulative","onVentilatorCumulative"],increase:["deathIncrease","hospitalizedIncrease","negativeIncrease","positiveIncrease","totalTestResultsIncrease"]},v=function(e){var t=e.map((function(e){return e.date})).filter((function(e,t,a){return a.indexOf(e)===t})),a=[];return t.forEach((function(e){var t=String(e),n=Number(t.substring(4,6)),r=Number(t.substring(6,8));a.push(n+"/"+r)})),a},g=function(e,t){var a=[];return t.forEach((function(e,t){a.push({label:e,fill:!1,backgroundColor:h[t],borderColor:h[t],data:[]})})),e.forEach((function(e){t.forEach((function(t){a.find((function(e){return e.label===t})).data.push(e[t]?e[t]:0)}))})),a},y=function(e){var t=[];return e.forEach((function(e){t[e.state]={name:e.name,website:e.covid19Site,twitter:e.twitter,notes:e.notes}})),t},D=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),r+a+n},b=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r,i,s,c,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a=null,n=null,e.prev=3,e.next=6,fetch("https://covidtracking.com/api/v1/states/info.json");case 6:if(!(r=e.sent).ok){e.next=14;break}return e.next=10,r.json();case 10:i=e.sent,a=y(i),e.next=15;break;case 14:throw Error(r.statusText);case 15:return e.next=17,fetch("https://covidtracking.com/api/v1/states/daily.json");case 17:if(!(s=e.sent).ok){e.next=25;break}return e.next=21,s.json();case 21:c=e.sent,t=c,e.next=26;break;case 25:throw Error(s.statusText);case 26:return e.next=28,fetch("https://covidtracking.com/api/v1/states/current.json");case 28:if(!(o=e.sent).ok){e.next=36;break}return e.next=32,o.json();case 32:e.sent.forEach((function(e){a[e.state].grade=e.dataQualityGrade})),e.next=37;break;case 36:throw Error(o.statusText);case 37:return e.next=39,fetch("https://covidtracking.com/api/v1/us/daily.json");case 39:if(!(l=e.sent).ok){e.next=47;break}return e.next=43,l.json();case 43:d=e.sent,n=d,e.next=48;break;case 47:throw Error(l.statusText);case 48:return e.abrupt("return",{statesHistoryData:t,stateInformation:a,countryHistoryData:n});case 51:e.prev=51,e.t0=e.catch(3),console.log(e.t0);case 54:case"end":return e.stop()}}),e,null,[[3,51]])})));return function(){return e.apply(this,arguments)}}(),S={SET_STATE_SELECTION:"SET_STATE_SELECTION",SET_DATE_RANGE_SELECTION:"SET_DATE_RANGE_SELECTION",SET_FIELD_SELECTION:"SET_FIELD_SELECTION",SET_COVID19_DATA:"SET_COVID19_DATA"},C=a(22),N=(a(38),Object(c.b)((function(e){return{selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}}),(function(e){return{setStateSelection:function(t){return e({type:S.SET_STATE_SELECTION,payload:t})},setDateRangeSelection:function(t){return e({type:S.SET_DATE_RANGE_SELECTION,payload:t})},setFieldSelection:function(t){return e({type:S.SET_FIELD_SELECTION,payload:t})}}}))((function(e){var t=e.selectedState,a=e.selectedDateRange,n=e.selectedFields,i=e.setStateSelection,s=e.setDateRangeSelection,c=e.setFieldSelection,o=Object.keys(E),l=Object.keys(f),u=Object.keys(p),d=function(e){var t=e.target.checked,a=e.target.value,r=null;t?(r=Object(C.a)(n)).push(a):r=n.filter((function(e){return e!==a})),c(r)},m=function(e){var t=e.target.id;c(E[t])};return r.a.createElement("div",{className:"chart-configuration"},r.a.createElement("div",{className:"top-section"},r.a.createElement("div",{className:"config-section"},r.a.createElement("div",{className:"config-field"},"State:"),r.a.createElement("select",{className:"short-drop-down",name:"stateSelection",defaultValue:t,onChange:function(e){i(e.target.value)}},u.map((function(e){return r.a.createElement("option",{key:e,value:e},p[e])})))),r.a.createElement("div",{className:"config-section"},r.a.createElement("div",{className:"config-field"},"Date Range:"),r.a.createElement("select",{className:"short-drop-down",name:"dateRangeSelection",defaultValue:a,onChange:function(e){s(e.target.value)}},l.map((function(e){return r.a.createElement("option",{key:e,value:e},f[e])}))))),r.a.createElement("div",{className:"config-section"},r.a.createElement("div",{className:"config-field"},"Data Fields:"),r.a.createElement("div",{className:"field-groups"},o.map((function(e){return r.a.createElement("div",{className:"config-field-group",key:e},r.a.createElement("div",{className:"group site-link",id:e,onClick:m},e," Data"),E[e].map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("input",{className:"field-option",type:"checkbox",name:"field-selection",onChange:d,value:e,checked:-1!==n.indexOf(e)}),r.a.createElement("label",{name:"field-selection"},e))})))})))))}))),T=(a(39),a(16)),k=a(17),A=a(23),I=a(24),O=a(18),w=a.n(O),R=(a(42),function(e){Object(I.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).chartRef=r.a.createRef(),e}return Object(k.a)(a,[{key:"loadChart",value:function(){var e=this.props,t=e.chartType,a=e.chartOptions,n=e.chartLabels,r=e.chartDataSet;"undefined"!==typeof o&&o.destroy();var i=this.chartRef.current.getContext("2d");o=new w.a(i,{type:t,data:{labels:n,datasets:r},options:a})}},{key:"componentDidMount",value:function(){this.loadChart()}},{key:"componentDidUpdate",value:function(){this.loadChart()}},{key:"render",value:function(){return r.a.createElement("div",{className:"chart-display"},r.a.createElement("div",{className:"chart"},r.a.createElement("canvas",{id:"myChart",ref:this.chartRef})))}}]),a}(r.a.Component)),x=Object(c.b)((function(e){return{stateInformation:e.chartConfig.stateInformation,statesHistoryData:e.chartConfig.statesHistoryData,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}}))((function(e){var t=e.statesHistoryData,a=e.stateInformation,n=e.selectedState,i=e.selectedFields,s=e.selectedDateRange;if(t){var c=new Date;c.setDate(c.getDate()-Number(s));var o,l,u=D(c),d=(o=n,l=u,t.filter((function(e){return e.state===o&&e.date>=l})).sort((function(e,t){return e.date-t.date}))),f=g(d,i),h=v(d);return r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"chart-header"},"Data for ",p[n]," last ",s," days"),r.a.createElement(R,{chartType:"line",chartOptions:m,chartLabels:h,chartDataSet:f}),r.a.createElement("div",{className:"chart-footer"},"Data Quality Grade for ",p[n],": \xa0\xa0",r.a.createElement("b",null,a[n].grade," **")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"site-link",onClick:function(){return window.open(a[n].website)}},n," COVID19 Website"),"\xa0\xa0\u2022\xa0\xa0",r.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://www.twitter.com/"+a[n].twitter)}},"Twitter")))}})),L=a(10),_=a(11);function j(){var e=Object(L.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return j=function(){return e},e}function F(){var e=Object(L.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return F=function(){return e},e}var H=_.a.div(F()),M=_.a.div(j()),V=function(){return r.a.createElement(H,null,r.a.createElement(M,null))},G=(a(44),function(){return r.a.createElement("div",{className:"mobile-message"},r.a.createElement("div",{className:"message"},"Chart is too big for your screen.",r.a.createElement("br",null)," Turn your device sideways."),r.a.createElement("div",{className:"phone"},r.a.createElement("div",{className:"phone-screen"}),r.a.createElement("div",{className:"phone-button"})))}),W=(a(45),Object(c.b)((function(e){return{countryHistoryData:e.chartConfig.countryHistoryData,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}}))((function(e){var t=e.countryHistoryData,a=e.selectedFields,n=e.selectedDateRange;if(t){var i=new Date;i.setDate(i.getDate()-Number(n));var s=function(e,t){return e.filter((function(e){return e.date>=t})).sort((function(e,t){return e.date-t.date}))}(t,D(i)),c=g(s,a),o=v(s);return r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"chart-header"},"Data for All United States last ",n," days"),r.a.createElement(R,{chartType:"line",chartOptions:m,chartLabels:o,chartDataSet:c}))}}))),B=Object(c.b)((function(e){return{dataRefreshedTimestamp:e.chartConfig.dataRefreshedTimestamp,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}}),(function(e){return{setCOVID19Data:function(t){return e(function(e){return{type:S.SET_COVID19_DATA,payload:e}}(t))}}}))((function(e){var t=e.setCOVID19Data,a=e.dataRefreshedTimestamp,i=e.selectedState;e.selectedDateRange,e.selectedFields;return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=7;break}return e.next=4,b();case 4:n=e.sent,r={statesHistoryData:n.statesHistoryData,stateInformation:n.stateInformation,countryHistoryData:n.countryHistoryData},t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),r.a.createElement("div",{className:"state-data-history"},r.a.createElement("div",{className:"page-title"},"Covid19 Data Charts for U.S. States"),a?r.a.createElement("div",{className:"page-layout"},r.a.createElement(G,null),r.a.createElement(N,null),"ALL"===i?r.a.createElement(W,null):r.a.createElement(x,null)):r.a.createElement(V,null),r.a.createElement("div",{className:"page-footer"},r.a.createElement("b",null,"** Data Quality Grade determined by The COVID Tracking Project "),r.a.createElement("br",null),"Not All States Report All Data",r.a.createElement("br",null),"Historical Data Refreshed daily at 4:00 PM EST",r.a.createElement("br",null),"~ ~ ~",r.a.createElement("br",null),"This is a visual representation of the data collected by The COVID Tracking Project",r.a.createElement("br",null),"For more info, visit ",r.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://covidtracking.com/")}},"https://covidtracking.com/"),r.a.createElement("br",null),"For field definitions, visit ",r.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://covidtracking.com/api")}},"https://covidtracking.com/api"),r.a.createElement("br",null)))}));a(46);var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(B,null)))},U=a(2),K=(a(47),a(6)),Y={statesHistoryData:null,stateInformation:null,countryHistoryData:null,dataRefreshedTimestamp:"",selectedState:"ALL",selectedDateRange:"30",selectedFields:["positive","negative","pending","totalTestResults"]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.SET_COVID19_DATA:return Object(K.a)({},e,{statesHistoryData:t.payload.statesHistoryData,stateInformation:t.payload.stateInformation,countryHistoryData:t.payload.countryHistoryData,dataRefreshedTimestamp:(new Date).toLocaleString()});case S.SET_STATE_SELECTION:return Object(K.a)({},e,{selectedState:t.payload});case S.SET_FIELD_SELECTION:return Object(K.a)({},e,{selectedFields:t.payload});case S.SET_DATE_RANGE_SELECTION:return Object(K.a)({},e,{selectedDateRange:t.payload});default:return e}},J=Object(U.c)({chartConfig:z});var Q=Object(U.d)(J,U.a.apply(void 0,[]));s.a.render(r.a.createElement(c.a,{store:Q},r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.dbd8b2ef.chunk.js.map