(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{20:function(e,t,a){e.exports=a(43)},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(6),c=a.n(r),i=a(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);var l=a(5),o=a.n(l),d=a(7);a(32);const u={15:"Last 15 days",30:"Last 30 days",45:"Last 45 days",60:"Last 60 days"},m={responsive:!0,title:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Day"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}},h=["#138E05","#A15B81","#2E16A6","#146AD4","#A9D422","#18F8BB","#AFC044","#3B9793","#822611","#FB2E76","#A5CA71","#983538","#082BD9","#2E136A","#05BB78","#44A4AD","#28FD7E","#387862"],p={ALL:"All States (default)",AK:"Alaska",AL:"Alabama",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District Of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"US Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},E={testing:["positive","negative","pending","totalTestResults"],patient:["hospitalizedCurrently","inIcuCurrently","onVentilatorCurrently","death","recovered"],cumulative:["hospitalizedCumulative","inIcuCumulative","onVentilatorCumulative"],increase:["deathIncrease","hospitalizedIncrease","negativeIncrease","positiveIncrease","totalTestResultsIncrease"]},f=["positive","negative","pending","totalTestResults"],g=e=>{const t=e.map(e=>e.date).filter((e,t,a)=>a.indexOf(e)===t),a=[];return t.forEach(e=>{var t=String(e),n=Number(t.substring(4,6)),s=Number(t.substring(6,8));a.push(n+"/"+s)}),a},v=(e,t)=>{const a=[];return t.forEach((e,t)=>{a.push({label:e,fill:!1,backgroundColor:h[t],borderColor:h[t],data:[]})}),e.forEach(e=>{t.forEach(t=>{a.find(e=>e.label===t).data.push(e[t]?e[t]:0)})}),a},y=e=>{const t=[];return e.forEach(e=>{t[e.state]={name:e.name,website:e.covid19Site,twitter:e.twitter,notes:e.notes}}),t},D=e=>{var t=new Date(e);let a=""+(t.getMonth()+1),n=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),s+a+n},b=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,n,s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a=null,n=null,e.prev=3,e.next=6,fetch("https://covidtracking.com/api/v1/states/info.json");case 6:if(!(s=e.sent).ok){e.next=14;break}return e.next=10,s.json();case 10:r=e.sent,a=y(r),e.next=15;break;case 14:throw Error(s.statusText);case 15:return e.next=17,fetch("https://covidtracking.com/api/v1/states/daily.json");case 17:if(!(c=e.sent).ok){e.next=25;break}return e.next=21,c.json();case 21:r=e.sent,t=r,e.next=26;break;case 25:throw Error(c.statusText);case 26:return e.next=28,fetch("https://covidtracking.com/api/v1/states/current.json");case 28:if(!(i=e.sent).ok){e.next=36;break}return e.next=32,i.json();case 32:(r=e.sent).forEach(e=>{a[e.state].grade=e.dataQualityGrade}),e.next=37;break;case 36:throw Error(i.statusText);case 37:return e.next=39,fetch("https://covidtracking.com/api/v1/us/daily.json");case 39:if(!(l=e.sent).ok){e.next=47;break}return e.next=43,l.json();case 43:r=e.sent,n=r,e.next=48;break;case 47:throw Error(l.statusText);case 48:return e.abrupt("return",{statesHistoryData:t,stateInformation:a,countryHistoryData:n});case 51:e.prev=51,e.t0=e.catch(3),console.log(e.t0);case 54:case"end":return e.stop()}}),e,null,[[3,51]])})));return function(){return e.apply(this,arguments)}}();var S={SET_STATE_SELECTION:"SET_STATE_SELECTION",SET_DATE_RANGE_SELECTION:"SET_DATE_RANGE_SELECTION",SET_FIELD_SELECTION:"SET_FIELD_SELECTION",SET_COVID19_DATA:"SET_COVID19_DATA"};a(33);var C=Object(i.b)(e=>({selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}),e=>({setStateSelection:t=>e({type:S.SET_STATE_SELECTION,payload:t}),setDateRangeSelection:t=>e({type:S.SET_DATE_RANGE_SELECTION,payload:t}),setFieldSelection:t=>e({type:S.SET_FIELD_SELECTION,payload:t})}))(({selectedState:e,selectedDateRange:t,selectedFields:a,setStateSelection:n,setDateRangeSelection:r,setFieldSelection:c})=>{const i=Object.keys(E),l=Object.keys(u),o=Object.keys(p),d=e=>{const t=e.target.checked,n=e.target.value;let s=null;t?(s=[...a],s.push(n)):s=a.filter(e=>e!==n),c(s)},m=e=>{const t=e.target.id;c(E[t])};return s.a.createElement("div",{className:"chart-configuration"},s.a.createElement("div",{className:"top-section"},s.a.createElement("div",{className:"config-section"},s.a.createElement("div",{className:"config-field"},"State:"),s.a.createElement("select",{className:"short-drop-down",name:"stateSelection",defaultValue:e,onChange:e=>{n(e.target.value)}},o.map(e=>s.a.createElement("option",{key:e,value:e},p[e])))),s.a.createElement("div",{className:"config-section"},s.a.createElement("div",{className:"config-field"},"Date Range:"),s.a.createElement("select",{className:"short-drop-down",name:"dateRangeSelection",defaultValue:t,onChange:e=>{r(e.target.value)}},l.map(e=>s.a.createElement("option",{key:e,value:e},u[e]))))),s.a.createElement("div",{className:"config-section"},s.a.createElement("div",{className:"config-field"},"Data Fields:"),s.a.createElement("div",{className:"field-groups"},i.map(e=>s.a.createElement("div",{className:"config-field-group",key:e},s.a.createElement("div",{className:"group site-link",id:e,onClick:m},e," Data"),E[e].map(e=>s.a.createElement("div",{key:e},s.a.createElement("input",{className:"field-option",type:"checkbox",name:"field-selection",onChange:d,value:e,checked:-1!==a.indexOf(e)}),s.a.createElement("label",{name:"field-selection"},e))))))))}),N=(a(34),a(16)),T=a.n(N);a(37);let k;class A extends s.a.Component{constructor(...e){super(...e),this.chartRef=s.a.createRef()}loadChart(){const e=this.props,t=e.chartType,a=e.chartOptions,n=e.chartLabels,s=e.chartDataSet;"undefined"!==typeof k&&k.destroy();const r=this.chartRef.current.getContext("2d");k=new T.a(r,{type:t,data:{labels:n,datasets:s},options:a})}componentDidMount(){this.loadChart()}componentDidUpdate(){this.loadChart()}render(){return s.a.createElement("div",{className:"chart-display"},s.a.createElement("div",{className:"chart"},s.a.createElement("canvas",{id:"myChart",ref:this.chartRef})))}}var I=A;var w=Object(i.b)(e=>({stateInformation:e.chartConfig.stateInformation,statesHistoryData:e.chartConfig.statesHistoryData,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}))(({statesHistoryData:e,stateInformation:t,selectedState:a,selectedFields:n,selectedDateRange:r})=>{if(!e)return;var c=new Date;c.setDate(c.getDate()-Number(r));const i=D(c),l=(o=a,d=i,e.filter(e=>e.state===o&&e.date>=d).sort((function(e,t){return e.date-t.date})));var o,d;const u=v(l,n),h=g(l);return s.a.createElement("div",{className:"chart-container"},s.a.createElement("div",{className:"chart-header"},"Data for ",p[a]," last ",r," days"),s.a.createElement(I,{chartType:"line",chartOptions:m,chartLabels:h,chartDataSet:u}),s.a.createElement("div",{className:"chart-footer"},"Data Quality Grade for ",p[a],": \xa0\xa0",s.a.createElement("b",null,t[a].grade," **")," ",s.a.createElement("br",null),s.a.createElement("span",{className:"site-link",onClick:()=>window.open(t[a].website)},a," COVID19 Website"),"\xa0\xa0\u2022\xa0\xa0",s.a.createElement("span",{className:"site-link",onClick:()=>window.open("https://www.twitter.com/"+t[a].twitter)},"Twitter")))}),O=a(10),R=a(11);function x(){const e=Object(O.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return x=function(){return e},e}function L(){const e=Object(O.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return L=function(){return e},e}const _=R.a.div(L()),F=R.a.div(x());var j=()=>s.a.createElement(_,null,s.a.createElement(F,null));a(39);var H=()=>s.a.createElement("div",{className:"mobile-message"},s.a.createElement("div",{className:"message"},"Chart is too big for your screen.",s.a.createElement("br",null)," Turn your device sideways."),s.a.createElement("div",{className:"phone"},s.a.createElement("div",{className:"phone-screen"}),s.a.createElement("div",{className:"phone-button"})));a(40);var M=Object(i.b)(e=>({countryHistoryData:e.chartConfig.countryHistoryData,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}))(({countryHistoryData:e,selectedFields:t,selectedDateRange:a})=>{if(!e)return;var n=new Date;n.setDate(n.getDate()-Number(a));const r=((e,t)=>e.filter(e=>e.date>=t).sort((function(e,t){return e.date-t.date})))(e,D(n)),c=v(r,t),i=g(r);return s.a.createElement("div",{className:"chart-container"},s.a.createElement("div",{className:"chart-header"},"Data for All United States last ",a," days"),s.a.createElement(I,{chartType:"line",chartOptions:m,chartLabels:i,chartDataSet:c}))});var V=Object(i.b)(e=>({dataRefreshedTimestamp:e.chartConfig.dataRefreshedTimestamp,selectedState:e.chartConfig.selectedState,selectedDateRange:e.chartConfig.selectedDateRange,selectedFields:e.chartConfig.selectedFields}),e=>({setCOVID19Data:t=>e((e=>({type:S.SET_COVID19_DATA,payload:e}))(t))}))(({setCOVID19Data:e,dataRefreshedTimestamp:t,selectedState:a,selectedDateRange:r,selectedFields:c})=>(Object(n.useEffect)(()=>{function a(){return(a=Object(d.a)(o.a.mark((function a(){var n,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t){a.next=7;break}return a.next=4,b();case 4:n=a.sent,s={statesHistoryData:n.statesHistoryData,stateInformation:n.stateInformation,countryHistoryData:n.countryHistoryData},e(s);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},[e,t]),s.a.createElement("div",{className:"state-data-history"},s.a.createElement("div",{className:"page-title"},"Covid19 Data Charts for U.S. States"),t?s.a.createElement("div",{className:"page-layout"},s.a.createElement(H,null),s.a.createElement(C,null),"ALL"===a?s.a.createElement(M,null):s.a.createElement(w,null)):s.a.createElement(j,null),s.a.createElement("div",{className:"page-footer"},s.a.createElement("b",null,"** Data Quality Grade determined by The COVID Tracking Project "),s.a.createElement("br",null),"Not All States Report All Data",s.a.createElement("br",null),"Historical Data Refreshed daily at 4:00 PM EST",s.a.createElement("br",null),"~ ~ ~",s.a.createElement("br",null),"This is a visual representation of the data collected by The COVID Tracking Project",s.a.createElement("br",null),"For more info, visit ",s.a.createElement("span",{className:"site-link",onClick:()=>window.open("https://covidtracking.com/")},"https://covidtracking.com/"),s.a.createElement("br",null),"For field definitions, visit ",s.a.createElement("span",{className:"site-link",onClick:()=>window.open("https://covidtracking.com/api")},"https://covidtracking.com/api"),s.a.createElement("br",null)))));a(41);var G=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(V,null)))},W=a(2),B=(a(42),a(8));const P={statesHistoryData:null,stateInformation:null,countryHistoryData:null,dataRefreshedTimestamp:null,selectedState:null,selectedDateRange:null,selectedFields:[]};var U=(e=P,t)=>{switch(t.type){case S.SET_COVID19_DATA:return{selectedState:"ALL",selectedDateRange:"30",selectedFields:f,statesHistoryData:t.payload.statesHistoryData,stateInformation:t.payload.stateInformation,countryHistoryData:t.payload.countryHistoryData,dataRefreshedTimestamp:(new Date).toLocaleString()};case S.SET_STATE_SELECTION:return Object(B.a)({},e,{selectedState:t.payload});case S.SET_FIELD_SELECTION:return Object(B.a)({},e,{selectedFields:t.payload});case S.SET_DATE_RANGE_SELECTION:return Object(B.a)({},e,{selectedDateRange:t.payload});default:return e}},K=Object(W.c)({chartConfig:U});var Y=Object(W.d)(K,Object(W.a)());c.a.render(s.a.createElement(i.a,{store:Y},s.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[20,1,2]]]);
//# sourceMappingURL=main.ab887889.chunk.js.map