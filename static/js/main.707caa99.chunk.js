(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{19:function(e,t,a){e.exports=a(38)},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),s=a(13),c=a.n(s),l=(a(24),a(1)),o=a.n(l),u=a(2),d=a(3),m=a(4),f=a(6),h=a(7),p=(a(26),{15:"Last 15 days",30:"Last 30 days",45:"Last 45 days",60:"Last 60 days"}),v=["#138E05","#A15B81","#2E16A6","#146AD4","#A9D422","#18F8BB","#AFC044","#3B9793","#822611","#FB2E76","#A5CA71","#983538","#082BD9","#2E136A","#05BB78","#44A4AD","#28FD7E","#387862"],g={positive:!0,negative:!0,pending:!0,totalTestResults:!0},y={ALL:"All States (default)",AK:"Alaska",AL:"Alabama",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District Of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"US Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},b={testing:["positive","negative","pending","totalTestResults"],patient:["hospitalizedCurrently","inIcuCurrently","onVentilatorCurrently","death","recovered"],cumulative:["hospitalizedCumulative","inIcuCumulative","onVentilatorCumulative"],increase:["deathIncrease","hospitalizedIncrease","negativeIncrease","positiveIncrease","totalTestResultsIncrease"]},E=(a(27),a(18)),k=(a(28),function(e){var t=e.fieldName,a=e.optionList,n=e.labelsList,s=e.defaultSelected,c=e.onChangeEvent,l=Object(r.useState)(1),o=Object(E.a)(l,2),u=o[0],d=o[1],m=function(){d(0)};return i.a.createElement("select",{className:"short-drop-down",name:t,onChange:c,defaultValue:s,size:u,onMouseDown:function(){a.length<10?d(a.length):d(10)},onBlur:m},a.map((function(e,t){return i.a.createElement("option",{className:"short-drop-down-option",onClick:m,key:e,value:e},n?n[e]:e)})))}),D=function(e){var t=e.selectedState,a=e.selectedDateRange,n=e.selectedFields,r=e.stateSelectionHandler,s=e.dateSelectionHander,c=e.fieldSelectionHandler,l=(e.groupSelectionHandler,Object.keys(b));return i.a.createElement("div",{className:"chart-configuration"},i.a.createElement("div",{className:"top-section"},i.a.createElement("div",{className:"config-section"},i.a.createElement("div",{className:"config-field"},"State:"),i.a.createElement(k,{fieldName:"states-list",optionList:Object.keys(y),labelsList:y,defaultSelected:t,onChangeEvent:r})),i.a.createElement("div",{className:"config-section"},i.a.createElement("div",{className:"config-field"},"Date Range:"),i.a.createElement(k,{fieldName:"date-range-list",optionList:Object.keys(p),labelsList:p,defaultSelected:a,onChangeEvent:s}))),i.a.createElement("div",{className:"config-section"},i.a.createElement("div",{className:"config-field"},"Data Fields:"),i.a.createElement("div",{className:"field-groups"},l.map((function(e){return i.a.createElement("div",{className:"config-field-group",key:e},i.a.createElement("div",{className:"group"},e," Data"),b[e].map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("input",{className:"field-option",type:"checkbox",name:"field-selection",onChange:c,value:e,checked:!!n[e]}),i.a.createElement("label",{name:"field-selection"},e))})))})))))},N=(a(29),a(14)),S=a.n(N),w=(a(32),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).chartRef=i.a.createRef(),e}return Object(m.a)(a,[{key:"loadChart",value:function(){var e=this.props,t=e.chartType,a=e.chartOptions,r=e.chartLabels,i=e.chartDataSet;"undefined"!==typeof n&&n.destroy();var s=this.chartRef.current.getContext("2d");n=new S.a(s,{type:t,data:{labels:r,datasets:i},options:a})}},{key:"componentDidMount",value:function(){this.loadChart()}},{key:"componentDidUpdate",value:function(){this.loadChart()}},{key:"render",value:function(){return i.a.createElement("div",{className:"chart-display"},i.a.createElement("div",{className:"chart"},i.a.createElement("canvas",{id:"myChart",ref:this.chartRef})))}}]),a}(i.a.Component)),C=function(e){var t=e.map((function(e){return e.date})).filter((function(e,t,a){return a.indexOf(e)===t})),a=[];return t.forEach((function(e){var t=String(e),n=Number(t.substring(4,6)),r=Number(t.substring(6,8));a.push(n+"/"+r)})),a},x=function(e,t){var a=[];return t.forEach((function(e,t){a.push({label:e,fill:!1,backgroundColor:v[t],borderColor:v[t],data:[]})})),e.forEach((function(e){t.forEach((function(t){a.find((function(e){return e.label===t})).data.push(e[t]?e[t]:0)}))})),a},A=function(e){var t=[];return e.forEach((function(e){t[e.state]={name:e.name,website:e.covid19Site,twitter:e.twitter,notes:e.notes}})),t},O=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),r+a+n},I=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,i,s,c,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a=null,n=null,e.prev=3,e.next=6,fetch("https://covidtracking.com/api/v1/states/info.json");case 6:if(!(r=e.sent).ok){e.next=14;break}return e.next=10,r.json();case 10:i=e.sent,a=A(i),e.next=15;break;case 14:throw Error(r.statusText);case 15:return e.next=17,fetch("https://covidtracking.com/api/v1/states/daily.json");case 17:if(!(s=e.sent).ok){e.next=25;break}return e.next=21,s.json();case 21:c=e.sent,t=c,e.next=26;break;case 25:throw Error(s.statusText);case 26:return e.next=28,fetch("https://covidtracking.com/api/v1/states/current.json");case 28:if(!(l=e.sent).ok){e.next=36;break}return e.next=32,l.json();case 32:e.sent.forEach((function(e){a[e.state].grade=e.dataQualityGrade})),e.next=37;break;case 36:throw Error(l.statusText);case 37:return e.next=39,fetch("https://covidtracking.com/api/v1/us/daily.json");case 39:if(!(u=e.sent).ok){e.next=47;break}return e.next=43,u.json();case 43:d=e.sent,n=d,e.next=48;break;case 47:throw Error(u.statusText);case 48:return e.abrupt("return",{statesHistoryData:t,stateInformation:a,countryHistoryData:n});case 51:e.prev=51,e.t0=e.catch(3),console.log(e.t0);case 54:case"end":return e.stop()}}),e,null,[[3,51]])})));return function(){return e.apply(this,arguments)}}(),j={responsive:!0,title:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Day"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}},L=function(e){var t=e.statesHistoryData,a=e.selectedState,n=e.selectedFields,r=e.selectedDateRange;if(t){var s=new Date;s.setDate(s.getDate()-Number(r));var c,l,o=O(s),u=Object.keys(n).filter((function(e){return n[e]})),d=(c=a,l=o,t.filter((function(e){return e.state===c&&e.date>=l})).sort((function(e,t){return e.date-t.date}))),m=x(d,u),f=C(d);return i.a.createElement(w,{chartType:"line",chartOptions:j,chartLabels:f,chartDataSet:m})}},R=a(8),T=a(9);function H(){var e=Object(R.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return H=function(){return e},e}function M(){var e=Object(R.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return M=function(){return e},e}var F=T.a.div(M()),V=T.a.div(H()),B=function(){return i.a.createElement(F,null,i.a.createElement(V,null))},W=(a(35),function(){return i.a.createElement("div",{className:"mobile-message"},i.a.createElement("div",{className:"message"},"Chart is too big for your screen.",i.a.createElement("br",null)," Turn your device sideways."),i.a.createElement("div",{className:"phone"},i.a.createElement("div",{className:"phone-screen"}),i.a.createElement("div",{className:"phone-button"})))}),G=(a(36),{responsive:!0,title:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Day"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}),P=function(e){var t=e.countryHistoryData,a=e.selectedFields,n=e.selectedDateRange;if(t){var r=new Date;r.setDate(r.getDate()-Number(n));var s=O(r),c=Object.keys(a).filter((function(e){return a[e]})),l=function(e,t){return e.filter((function(e){return e.date>=t})).sort((function(e,t){return e.date-t.date}))}(t,s),o=x(l,c),u=C(l);return i.a.createElement(w,{chartType:"line",chartOptions:G,chartLabels:u,chartDataSet:o})}},U=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleGroupSelection=function(t){console.log("event.values=",t.values);var a=t.values,n=[];a.forEach((function(e){n[e]=!0})),console.log("fieldGroupList=",n),e.setState({selectedFields:n})},e.state={selectedState:"ALL",selectedDateRange:"30",selectedFields:g,statesHistoryData:null,stateInformation:null,countryHistoryData:null,dataRefreshedTimestamp:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date,a=t.toLocaleString(),e.next=5,I();case 5:return n=e.sent,e.next=8,this.setState({statesHistoryData:n.statesHistoryData,stateInformation:n.stateInformation,countryHistoryData:n.countryHistoryData,dataRefreshedTimestamp:a});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleStateSelection",value:function(e){this.setState({selectedState:e.target.value})}},{key:"handleDateRangeSelection",value:function(e){this.setState({selectedDateRange:e.target.value})}},{key:"handleFieldSelection",value:function(e){var t=this.state.selectedFields;t[e.target.value]=e.target.checked,this.setState({selectedFields:t})}},{key:"render",value:function(){var e=this.state,t=e.statesHistoryData,a=e.countryHistoryData,n=e.selectedState,r=e.selectedDateRange,s=e.selectedFields,c=e.stateInformation,l=e.dataRefreshedTimestamp;return i.a.createElement("div",{className:"state-data-history"},i.a.createElement("div",{className:"page-title"},"Covid19 Data Charts for U.S. States"),l?i.a.createElement("div",{className:"page-layout"},i.a.createElement(W,null),i.a.createElement("div",{className:"chart-config-container"},i.a.createElement(D,{selectedState:n,selectedDateRange:r,selectedFields:s,stateSelectionHandler:this.handleStateSelection.bind(this),dateSelectionHander:this.handleDateRangeSelection.bind(this),fieldSelectionHandler:this.handleFieldSelection.bind(this),groupSelectionHandler:this.handleGroupSelection.bind(this)})),"ALL"===n?i.a.createElement("div",{className:"chart-container"},i.a.createElement("div",{className:"chart-header"},"Data for All United States last ",r," days"),i.a.createElement(P,{countryHistoryData:a,selectedDateRange:r,selectedFields:s})):i.a.createElement("div",{className:"chart-container"},i.a.createElement("div",{className:"chart-header"},"Data for ",c[n].name," last ",r," days"),i.a.createElement(L,{selectedState:n,selectedDateRange:r,selectedFields:s,statesHistoryData:t}),i.a.createElement("div",{className:"chart-footer"},"Data Quality Grade for ",c[n].name,": \xa0\xa0",i.a.createElement("b",null,c[n].grade," **")," ",i.a.createElement("br",null),i.a.createElement("span",{className:"site-link",onClick:function(){return window.open(c[n].website)}},n," COVID19 Website"),"\xa0\xa0\u2022\xa0\xa0",i.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://www.twitter.com/"+c[n].twitter)}},"Twitter")))):i.a.createElement(B,null),i.a.createElement("div",{className:"page-footer"},i.a.createElement("b",null,"** Data Quality Grade determined by The COVID Tracking Project "),i.a.createElement("br",null),"Not All States Report All Data",i.a.createElement("br",null),"Historical Data Refreshed daily at 4:00 PM EST",i.a.createElement("br",null),"~ ~ ~",i.a.createElement("br",null),"This is a visual representation of the data collected by The COVID Tracking Project",i.a.createElement("br",null),"For more info, visit ",i.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://covidtracking.com/")}},"https://covidtracking.com/"),i.a.createElement("br",null),"For field definitions, visit ",i.a.createElement("span",{className:"site-link",onClick:function(){return window.open("https://covidtracking.com/api")}},"https://covidtracking.com/api"),i.a.createElement("br",null)))}}]),a}(i.a.Component);a(37);var K=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(U,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.707caa99.chunk.js.map