{"version":3,"sources":["serviceWorker.js","utilities/states-meta-data.js","utilities/data-fetching.js","utilities/data-fields.js","utilities/formatting.js","utilities/chart-data-processing.js","redux/chart-config/chart-config.types.js","utilities/urls.js","components/chart-config/chart-config.component.jsx","redux/chart-config/chart-config.actions.js","components/chart-display/chart-display.component.jsx","components/cdc-history-chart/cdc-history-chart.component.jsx","components/spinner/spinner.styles.jsx","components/spinner/spinner.component.jsx","components/data-totals/data-totals.component.jsx","utilities/chart-options.js","components/age-group-summary/age-group-summary.component.jsx","components/dashboard/dashboard.component.jsx","App.js","redux/chart-config/chart-config.reducer.js","redux/root-reducer.js","redux/store.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","STATE_INFO","name","population","CDC_TOKEN","getFreshData","a","stateCountyInfo","deathsByAgeGroups","cdcHistoryByJurisdiction","cdcTotalsByJurisdiction","cdcHospitalDataByJurisdiction","cdcHospitalDataLastUpdate","fetchJsonData","dataHistoryByState","dataHistoryUSA","concat","dataHospitalByState","dataHospitalUSA","length","date","hospitalTotalsURL","URL_CDC_HOSPITAL_DATA_BY_STATE_TOTALS","dataHospitalTotals","dataCasesDeathsByState","getTotalsByJurisdiction","url","json","fetch","response","ok","Error","statusText","getTotalsForUSA","totalsByState","total_cases","total_deaths","inpatient_beds","inpatient_beds_covid","icu_beds","icu_beds_covid","partiallyVaccinated","fullyVaccinated","forEach","data","Number","Object","keys","casesDeathsData","find","hospitalData","push","dataTotalsUSA","YEAR_KEYS","YEARS","DATA_FIELD_COLORS","DATA_FIELD_DISPLAY_NAMES","new_case","new_death","ages_0_17","ages_18_29","ages_30_39","ages_40_49","ages_50_64","ages_65_74","ages_75_84","ages_85","CDC_DATA_CHART_FIELD_GROUPS","dailyTotals","AGE_GROUP_DATA_FIELDS","getDisplayNumber","num","Intl","NumberFormat","useGrouping","format","getPercentage","partialNum","totalNum","percent","toFixed","getFormattedDateForFiltering","dateValue","Date","month","getMonth","day","getDate","year","getFullYear","getAgeGroupDataForState","selectedState","selectedYear","stateName","ageGroupData","getCDCAgeGroupDataBySelection","getAgeGroupDataOverTime","newGroupData","ageGroupDataRec","toISOString","replace","ageGroup","formatAgeGroupName","age_group","replaceAll","trim","deaths","sum_covid_19_deaths","dateRecord","rec","combineAgeGroupValues","result","reduce","age_group_sum","value","sum_total_deaths","getCDCDataBySelection","monthsSelected","search","monthsBack","substr","lenth","dateRange","getDateRangeValues","getCDCDataSetByDateRange","startDate","endDate","getCDCDataSetByYear","filter","stateData","sort","b","getCDCAgeGroupDataByDateRange","calcDate","toLowerCase","ageGroupDataSet","compareAgeGroupValues","setMonth","setDate","ageGroupName","numA","substring","numB","ChartConfigTypes","SET_STATE_SELECTION","SET_DATE_RANGE_SELECTION","SET_FIELD_SELECTION","SET_COVID19_DATA","SET_STATE_HISTORY_DATA","SET_YEAR_SELECTION","CDC_LINKS","HEALTHDATA_LINKS","HOSPITALDATA","connect","chartConfig","dispatch","setStateSelection","userSelectedState","type","payload","setYearSelection","userSelectedYear","statesKeys","className","defaultValue","onChange","event","target","map","item","key","currentLineChart","ChartDisplay","chartType","chartOptions","chartLabels","chartDataSet","chartId","chartContainer","useRef","useState","chartInstance","setChartInstance","useEffect","current","options","labels","datasets","destroy","Chart","id","ref","dataSet","selectedFieldGroup","stateChartTitle","dataSourceURL","dataSourceLabel","dataFetchedSuccessfully","Array","isArray","fieldNames","fieldDatasets","fieldName","index","label","fill","backgroundColor","borderColor","borderWidth","row","getChartDataset","dateList","datesList","newDateList","dateString","String","getDateListFromCDCData","onClick","open","SpinnerOverlay","styled","div","SpinnerContainer","Spinner","stateInformation","stateInfo","jurisdictionData","percentPositive","percentDeath","percentHospitalization","percentICU","percentDeathOfPositive","CHART_OPTIONS_FOR_STATE_HISTORY","responsive","aspectRatio","maintainAspectRatio","title","display","tooltips","mode","intersect","bodyAlign","position","callbacks","tooltipItem","datasetIndex","parseInt","toLocaleString","interaction","axis","legend","boxWidth","fontSize","usePointStyle","padding","elements","point","radius","layout","left","right","top","bottom","scales","xAxes","gridLines","time","minUnit","tooltipFormat","scaleLabel","yAxes","ticks","min","beginAtZero","callback","formatYAxisDisplay","getChartDisplayForAgeGroupSeries","JSON","parse","stringify","CHART_OPTIONS_FOR_AGE_GROUPS","hover","stacked","labelText","ageLabels","ageGroups","shortNames","group","groupName","formatAgeGroupNames","covid19Deaths","totalDeaths","isDataLoaded","setCOVID19Data","freshData","loadData","App","INITIAL_STATE","statesHistoryData","countryHistoryData","selectedFields","chartConfigReducer","action","combineReducers","store","createStore","rootReducer","applyMiddleware","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"iWAYMA,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,iHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,WAO5BW,OAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,M,iCCvFpDC,G,MAAa,IAC1BA,EAAU,GAAO,CAACC,KAAK,SAAUC,WAAW,QAC5CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,SAC7CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,SAC7CF,EAAU,GAAO,CAACC,KAAK,aAAcC,WAAW,UAChDF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,cAAeC,WAAW,SACjDF,EAAU,GAAO,CAACC,KAAK,uBAAwBC,WAAW,QAC1DF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,QAC9CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,UAC7CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,UAC7CF,EAAU,GAAO,CAACC,KAAK,SAAUC,WAAW,SAC5CF,EAAU,GAAO,CAACC,KAAK,OAAQC,WAAW,SAC1CF,EAAU,GAAO,CAACC,KAAK,QAASC,WAAW,SAC3CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,UAC9CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,SAC7CF,EAAU,GAAO,CAACC,KAAK,SAAUC,WAAW,SAC5CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,YAAaC,WAAW,SAC/CF,EAAU,GAAO,CAACC,KAAK,gBAAiBC,WAAW,SACnDF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,QAASC,WAAW,SAC3CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,UAC9CF,EAAU,GAAO,CAACC,KAAK,YAAaC,WAAW,SAC/CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,cAAeC,WAAW,SACjDF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,SAC7CF,EAAU,GAAO,CAACC,KAAK,iBAAkBC,WAAW,UACpDF,EAAU,GAAO,CAACC,KAAK,eAAgBC,WAAW,QAClDF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,gBAAiBC,WAAW,SACnDF,EAAU,GAAO,CAACC,KAAK,aAAcC,WAAW,SAChDF,EAAU,GAAO,CAACC,KAAK,aAAcC,WAAW,SAChDF,EAAU,GAAO,CAACC,KAAK,SAAUC,WAAW,SAC5CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,UAC9CF,EAAU,GAAO,CAACC,KAAK,OAAQC,WAAW,UAC1CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,SAAUC,WAAW,SAC5CF,EAAU,GAAO,CAACC,KAAK,eAAgBC,WAAW,UAClDF,EAAU,GAAO,CAACC,KAAK,cAAeC,WAAW,SACjDF,EAAU,GAAO,CAACC,KAAK,eAAgBC,WAAW,SAClDF,EAAU,GAAO,CAACC,KAAK,iBAAkBC,WAAW,SACpDF,EAAU,GAAO,CAACC,KAAK,eAAgBC,WAAW,QAClDF,EAAU,GAAO,CAACC,KAAK,YAAaC,WAAW,SAC/CF,EAAU,GAAO,CAACC,KAAK,QAASC,WAAW,UAC3CF,EAAU,GAAO,CAACC,KAAK,OAAQC,WAAW,SAC1CF,EAAU,GAAO,CAACC,KAAK,WAAYC,WAAW,SAC9CF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,QAC7CF,EAAU,GAAO,CAACC,KAAK,aAAcC,WAAW,SAChDF,EAAU,GAAO,CAACC,KAAK,YAAaC,WAAW,SAC/CF,EAAU,GAAO,CAACC,KAAK,gBAAiBC,WAAW,SACnDF,EAAU,GAAO,CAACC,KAAK,UAAWC,WAAW,QAC7CF,EAAU,IAAQ,CAACC,KAAK,gBAAiBC,WAAW,WC3DpD,IAIMC,EAAY,uDAuBLC,EAAY,uCAAG,oDAAAC,EAAA,6DAEpBC,EAAkB,GAClBC,EAAoB,GACpBC,EAA2B,GAC3BC,EAA0B,GAC1BC,EAA8B,GAC9BC,EAA4B,GAPR,kBAWWC,EAhCM,0LAqBjB,cAWhBC,EAXgB,iBAYOD,EAhCM,uPAoBb,eAYhBE,EAZgB,OAapBN,EAA2BK,EAAmBE,OAAOD,GAbjC,UAeYF,EA/BO,gXAgBnB,eAehBI,EAfgB,iBAgBOJ,EA9BO,icAcd,eAgBhBK,EAhBgB,OAiBpBP,EAAgCM,EAAoBD,OAAOE,GAG3DN,EAA4BK,EAAoBA,EAAoBE,OAAQ,GAAGC,KAC3EC,EAAoBC,iUAA8CV,EAA4B,IAAMR,EArBpF,UAuBWS,EAAcQ,GAvBzB,eAuBhBE,EAvBgB,iBAwBeV,EA9CC,yMAsBhB,eAwBhBW,EAxBgB,iBA0BYC,EAAwBD,EAAwBD,GA1B5D,eA0BpBb,EA1BoB,iBA4BMG,EA9CQ,4aAkBd,eA4BpBL,EA5BoB,yBA8Bb,CACHD,gBAAiBA,EACjBC,kBAAmBA,EACnBE,wBAAyBA,EACzBD,yBAA0BA,EAC1BE,8BAA+BA,IAnCf,kCAuCpBhB,QAAQC,IAAR,MAvCoB,0DAAH,qDA2CZiB,EAAa,uCAAG,WAAMa,GAAN,iBAAApB,EAAA,sEAEjBqB,EAAO,KAFU,SAKEC,MAAMF,GALR,YAKfG,EALe,QAMRC,GANQ,iCAOJD,EAASF,OAPL,OAOjBA,EAPiB,qCAUXI,MAAMF,EAASG,YAVJ,iCAadL,GAbc,kCAgBrBhC,QAAQC,IAAI,yBAAZ,MAhBqB,0DAAH,sDAkE1B,I,IAAMqC,EAAkB,SAACC,GAErB,IAAIC,EAAc,EACdC,EAAe,EACfC,EAAiB,EACjBC,EAAuB,EACvBC,EAAW,EACXC,EAAiB,EACjBC,EAAsB,EACtBC,EAAkB,EAyBtB,OAvBAR,EAAcS,SAAQ,SAAAC,GAClBT,GAAeU,OAAOD,EAAKT,aAC3BC,GAAgBS,OAAOD,EAAKR,cAC5BC,GAAkBQ,OAAOD,EAAKP,gBAC9BC,GAAwBO,OAAOD,EAAKN,sBACpCC,GAAYM,OAAOD,EAAKL,UACxBC,GAAkBK,OAAOD,EAAKJ,gBAC9BC,GAAuBI,OAAOD,EAAKH,qBACnCC,GAAmBG,OAAOD,EAAKF,oBAGtB,CACTjD,MAAM,MACN0C,YAAaA,EACbC,aAAcA,EACdC,eAAgBA,EAChBC,qBAAsBA,EACtBC,SAAUA,EACVC,eAAgBA,EAChBC,oBAAqBA,EACrBC,gBAAiBA,IAMnBjB,EAAuB,uCAAG,WAAMD,EAAwBD,GAA9B,iBAAAjB,EAAA,6DAExB4B,EAAe,GACHY,OAAOC,KAAK9C,GAElB0C,SAAQ,SAAClD,GAEf,GAAc,QAAVA,EAAiB,CAEjB,IAAIuD,EAAiBxB,EAAuByB,MAAK,SAAAL,GAAI,OAAIA,EAAKnD,QAAQA,KAClEyD,EAAe3B,EAAmB0B,MAAK,SAAAL,GAAI,OAAIA,EAAKnD,QAAQA,KAC3DyD,IACDA,EAAe,CACXb,eAAgB,EAChBC,qBAAsB,EACtBC,SAAU,EACVC,eAAgB,IAGxBN,EAAciB,KAAK,CACf1D,MAAOA,EACP0C,YAAaU,OAAOG,EAAgBb,aACpCC,aAAcS,OAAOG,EAAgBZ,cACrCC,eAAgBQ,OAAOK,EAAab,gBACpCC,qBAAsBO,OAAOK,EAAaZ,sBAC1CC,SAAUM,OAAOK,EAAaX,UAC9BC,eAAgBK,OAAOK,EAAaV,sBAK5CY,EAAgBnB,EAAgBC,GACpCA,EAAciB,KAAKC,GAhCS,kBAmCrBlB,GAnCqB,2CAAH,wDC3KhBmB,EAAY,CACrB,WACA,WACA,YACA,OACA,OACA,KAGSC,EAAQ,CACjB,WAAY,gBACZ,WAAY,gBACZ,YAAa,iBACb,KAAQ,WACR,KAAQ,WACR,EAAK,YAKIC,EAAoB,CAC7B,QACA,MACA,OACA,SACA,OACA,OACA,QACA,OACA,SACA,SA6DSC,EAA2B,CACpCC,SAAU,YACVC,UAAW,aACXpB,qBAAsB,YACtBE,eAAgB,MAChBmB,UAAU,OACVC,WAAW,QACXC,WAAW,QACXC,WAAW,QACXC,WAAW,QACXC,WAAW,QACXC,WAAW,QACXC,QAAQ,OAqBCC,EAA8B,CACvCC,YAAa,CACT,WACA,aAEJlB,aAAc,CACV,uBACA,mBAkCKmB,EAAwB,CACjC,YACA,aACA,aACA,aACA,aACA,aACA,aACA,WClLSC,EAAmB,SAACC,GAG7B,OAFKA,IACDA,EAAM,GACHC,KAAKC,aAAa,QAAS,CAACC,aAAa,IAAOC,OAAOJ,IAGrDK,EAAgB,SAACC,EAAYC,GACtC,IAAIC,GAAYF,EAAaC,EAAY,KAAKE,QAAQ,GAGtD,MAFgB,SAAZD,IACAA,EAAU,UACPA,EAAU,KAGRE,EAA+B,SAACC,GAEzC,IAAM9D,EAAO,IAAI+D,KAAKD,GAElBE,EAAQ,IAAMhE,EAAKiE,WAAa,GAChCC,EAAM,GAAKlE,EAAKmE,UAChBC,EAAO,GAAKpE,EAAKqE,cAOrB,OALIL,EAAMjE,OAAS,IACfiE,EAAQ,IAAMA,GACdE,EAAInE,OAAS,IACbmE,EAAM,IAAMA,GAETzC,OAAO2C,EAAOJ,EAAQE,ICtBpBI,EAA0B,SAAClF,EAAmBmF,EAAeC,GAEtE,IAAMC,EAAY5F,EAAW0F,GAAezF,KACxC4F,EAAeC,EAA8BvF,EAAmBqF,EAAWD,GAM/E,MAHqB,OAAlBD,IACCG,EAAeA,EAAa9E,OAAO+E,EAA8BvF,EAAkB,gBAAgBoF,KAEhGE,GAGEE,EAA0B,SAACxF,EAAmBmF,EAAeC,GAEtE,IAAME,EAAeJ,EAAwBlF,EAAmBmF,EAAeC,GAE3EK,EAAe,GAmCnB,OAjCAH,EAAanD,SAAQ,SAACuD,GAElB,IAAM9E,EAAQ,IAAI+D,KAAKe,EAAgBd,MAAQ,OAASc,EAAgBV,MAAOW,cAAcC,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IACrHC,EAAW,QAAUC,EAAmBJ,EAAgBK,WAAWC,WAAW,IAAI,KAAKA,WAAW,IAAI,IAAIC,OAC1GC,EAAS7D,OAAOqD,EAAgBS,qBAIlCC,EAAaX,EAAahD,MAAK,SAAA4D,GAAG,OAAIA,EAAIzF,OAASA,KAEnDwF,EAgBAA,EAAWP,GAAYK,GAfvBE,EAAa,CACTxF,KAAMA,EACNuC,UAAwB,cAAb0C,EAA2BK,EAAS,EAC/C9C,WAAwB,eAAbyC,EAA4BK,EAAS,EAChD7C,WAAwB,eAAbwC,EAA4BK,EAAS,EAChD5C,WAAwB,eAAbuC,EAA4BK,EAAS,EAChD3C,WAAwB,eAAbsC,EAA4BK,EAAS,EAChD1C,WAAwB,eAAbqC,EAA4BK,EAAS,EAChDzC,WAAwB,eAAboC,EAA4BK,EAAS,EAChDxC,QAAqB,YAAbmC,EAAyBK,EAAS,GAG9CT,EAAa9C,KAAKyD,OAUnBX,GAGEa,EAAwB,SAAChB,GAElC,IAAIiB,EAAS,GAmBb,OAlBAjB,EAAakB,QACT,SAASC,EAAeC,GAapB,OAZKD,EAAcC,EAAMX,YASrBU,EAAcC,EAAMX,WAAWI,qBAAwB9D,OAAOqE,EAAMP,qBAA2B9D,OAAOqE,EAAMP,qBAAjB,EAC3FM,EAAcC,EAAMX,WAAWY,kBAAqBtE,OAAOqE,EAAMC,kBAAwBtE,OAAOqE,EAAMC,kBAAjB,IATrFF,EAAcC,EAAMX,WAAa,CAC7BA,UAAWW,EAAMX,UACjBI,oBAAsB9D,OAAOqE,EAAMP,qBAA2B9D,OAAOqE,EAAMP,qBAAjB,EAC1DQ,iBAAmBtE,OAAOqE,EAAMC,kBAAwBtE,OAAOqE,EAAMC,kBAAjB,GAExDJ,EAAO5D,KAAK8D,EAAcC,EAAMX,aAM7BU,IAEb,IAEKF,GAIEK,EAAwB,SAAC3G,EAA0BkF,EAAeC,GAE3E,IAAMyB,EAAiBzB,EAAa0B,OAAO,WAE3C,GAAID,GAAkB,EAAG,CACrB,IAAME,EAAa3B,EAAa4B,OAAOH,EAAe,EAAGzB,EAAa6B,OAChEC,EAAYC,EAAmBJ,GACrC,OAAOK,EAAyBnH,EAA0BkF,EAAe9C,OAAOoC,EAA6ByC,EAAUG,YAAahF,OAAOoC,EAA6ByC,EAAUI,WAGlL,OAAOC,EAAoBtH,EAA0BkF,EAAeC,IAG/DmC,EAAsB,SAACtH,EAA0BkF,EAAeC,GAazE,OAToB,MAAjBA,EACWnF,EACLuH,QAAO,SAAAC,GAAS,OAAIA,EAAUxI,QAAUkG,KAGnClF,EACLuH,QAAO,SAAAC,GAAS,OAAIA,EAAUxI,QAAUkG,GAAiBsC,EAAU7G,KAAKoG,OAAO,EAAE,KAAO5B,MAGlFsC,MAAK,SAAU5H,EAAG6H,GACzB,OAAO7H,EAAEc,KAAO+G,EAAE/G,SAKjBwG,EAA2B,SAACnH,EAA0BkF,EAAekC,EAAWC,GAazF,OAXcrH,EACTuH,QAAO,SAAUC,GACd,IAAM7G,EAAOyB,OAAOoF,EAAU7G,KAAKoG,OAAO,EAAE,IAAIhB,WAAW,IAAI,KAC/D,OAAOyB,EAAUxI,QAAUkG,GACpBvE,GAAQyG,GACRzG,GAAQ0G,KAElBI,MAAK,SAAU5H,EAAG6H,GACf,OAAO7H,EAAEc,KAAO+G,EAAE/G,SAMjBgH,EAAgC,SAAC5H,EAAmBqF,EAAW6B,GAexE,OAXWlH,EACVwH,QAAO,SAAUC,GACd,IAAMzC,EAAOyC,EAAUzC,KACjBJ,EAAQ6C,EAAU7C,MAClBiD,EAAW,IAAIlD,KAAKC,EAAQ,MAAQI,GAE1C,OAAOyC,EAAUxI,MAAM6I,gBAAkBzC,EAAUyC,eAC5CD,GAAYX,EAAUG,WACtBQ,GAAYX,EAAUI,YAMxB/B,EAAgC,SAACvF,EAAmBqF,EAAWD,GAExE,IAAI2C,EAAkB,GAChBlB,EAAiBzB,EAAa0B,OAAO,WAE3C,GAAID,GAAkB,EAAG,CAErB,IAAME,EAAa1E,OAAO+C,EAAa4B,OAAOH,EAAe,EAAGzB,EAAa6B,QAAU,EACjFC,EAAYC,EAAmBJ,GACrCgB,EAAkBH,EAA8B5H,EAAmBqF,EAAW6B,QAG9E,GAAqB,MAAjB9B,EACA2C,EAAkB/H,EACbwH,QAAO,SAAApF,GAAI,OAAIA,EAAKnD,MAAM6I,gBAAkBzC,EAAUyC,qBAE1D,CACD,IAAMT,EAAY,IAAI1C,KAAK,OAASS,GAC9BkC,EAAU,IAAI3C,KAAK,SAAWS,GAEpC2C,EAAkBH,EAA8B5H,EAAmBqF,EADjD,CAACgC,UAAWA,EAAWC,QAASA,IAO1D,OAFAS,EAAgBL,MAAK,SAAC5H,EAAE6H,GAAH,OAASK,EAAsBlI,EAAEiG,UAAU4B,EAAE5B,cAE3DgC,GAGEZ,EAAqB,SAACJ,GAE/B,IAAMM,EAAY,IAAI1C,KAChB2C,EAAU,IAAI3C,KAKpB,OAHA0C,EAAUY,SAASZ,EAAUxC,WAAakC,GAC1CM,EAAUa,QAAQ,GAEX,CAACb,UAAWA,EAAWC,QAASA,IAoB9BxB,EAAqB,SAACqC,GAI/B,OAFqBA,EAAavC,QAAQ,iBAAiB,KAAKA,QAAQ,QAAQ,IAAIA,QAAQ,OAAO,IAAIA,QAAQ,QAAQ,MAgBrHoC,EAAwB,SAAClI,EAAG6H,GAE9B,IAAIS,EAAO/F,OAAOvC,EAAEuI,UAAU,EAAE,GAAGzC,QAAQ,IAAI,IAAIkC,cAAclC,QAAQ,KAAK,MAC1E0C,EAAOjG,OAAOsF,EAAEU,UAAU,EAAE,GAAGzC,QAAQ,IAAI,IAAIkC,cAAclC,QAAQ,KAAK,MAE9E,OAAIwC,EAAOE,EAAa,EACpBF,EAAOE,GAAc,EAElB,GC/NIC,EATU,CACrBC,oBAAsB,sBACtBC,yBAA2B,2BAC3BC,oBAAsB,sBACtBC,iBAAmB,mBACnBC,uBAAwB,yBACxBC,mBAAqB,sBCEZC,EACa,sGADbA,EAEa,yFAMbC,EAAmB,CAC5BC,aAAe,gGCsCJC,G,MAAAA,aAXS,SAAAhK,GAAK,MAAK,CAC9BkG,cAAelG,EAAMiK,YAAY/D,cACjCC,aAAcnG,EAAMiK,YAAY9D,iBAGT,SAAA+D,GAAQ,MAAK,CACpCC,kBAAmB,SAACC,GAAD,OAAuBF,EChDQ,CAClDG,KAAOf,EAAiBC,oBACxBe,QD8CqEF,KACrEG,iBAAkB,SAACC,GAAD,OAAsBN,EC5CQ,CAChDG,KAAOf,EAAiBM,mBACxBU,QD0CkEE,QAIvDR,EA/CY,SAAC,GAAwE,IAAvE9D,EAAsE,EAAtEA,cAAeC,EAAuD,EAAvDA,aAAcgE,EAAyC,EAAzCA,kBAAmBI,EAAsB,EAAtBA,iBAEnEE,EAAapH,OAAOC,KAAK9C,GAU/B,OACI,yBAAKkK,UAAU,uBACX,yBAAKA,UAAU,eACX,0BAAMA,UAAU,kBACZ,4BAAQjK,KAAK,iBAAiBkK,aAAezE,GAAgB,MAAwB0E,SAZxE,SAACC,GAC1BV,EAAkBU,EAAMC,OAAOrD,SAYdgD,EAAWM,KAAK,SAACC,GAAD,OACb,4BAAQC,IAAKD,EAAMvD,MAAOuD,GAAQxK,EAAWwK,GAAMvK,WAK/D,0BAAMiK,UAAU,eACZ,4BAAQjK,KAAK,gBAAgBkK,aAAexE,GLTnC,WKSiFyE,SAhB9E,SAACC,GACzBN,EAAiBM,EAAMC,OAAOrD,SAgBb7D,EAAUmH,KAAK,SAACC,GAAD,OACZ,4BAAQC,IAAKD,EAAMvD,MAAOuD,GAAQnH,EAAMmH,e,iCE5BhEE,G,MAAmB,IAmCRC,EAhCM,SAAC,GAAmE,IAAlEC,EAAiE,EAAjEA,UAAWC,EAAsD,EAAtDA,aAAcC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,QACjEC,EAAiBC,iBAAO,MAC9B,EAA0CC,mBAAS,MAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAuBA,OArBAC,qBAAU,WAEN,GAAIL,GAAkBA,EAAeM,QAAS,CAC1C,IAAM9B,EAAc,CAChBI,KAAMe,EACNY,QAASX,EACTlI,KAAM,CACF8I,OAAQX,EACRY,SAAUX,IAKuB,qBAA9BL,EAAiBM,IAA0BN,EAAiBM,GAASW,UAEhFjB,EAAiBM,GAAW,IAAIY,IAAMX,EAAeM,QAAS9B,GAC9D4B,EAAiBX,MAGtB,CAACO,EAAgBL,EAAWC,EAAcC,EAAaC,EAAcC,IAGpE,yBAAKd,UAAU,iBACX,4BAAQ2B,GAAKT,EAAsBJ,EAAN,IAAgBc,IAAKb,MCiB/CzB,eALS,SAAAhK,GAAK,MAAK,CAC9BkG,cAAelG,EAAMiK,YAAY/D,cACjCC,aAAcnG,EAAMiK,YAAY9D,gBAGrB6D,EAtCS,SAAC,GAAwI,IAAvIuC,EAAsI,EAAtIA,QAASrG,EAA6H,EAA7HA,cAAeC,EAA8G,EAA9GA,aAAcqG,EAAgG,EAAhGA,mBAAoBC,EAA4E,EAA5EA,gBAAiBjB,EAA2D,EAA3DA,QAASH,EAAkD,EAAlDA,aAAcqB,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,gBAEjIC,EAA0BC,MAAMC,QAAQP,IAAYA,EAAQ7K,OAAS,EACrE6J,ENyNqB,SAACpI,EAAM4J,GAElC,IAAMC,EAAgB,GAsBtB,OAnBAD,EAAW7J,SAAS,SAAC+J,EAAWC,GAC5BF,EAActJ,KAAK,CACfuJ,UAAWA,EACXE,MAAOpJ,EAAyBkJ,GAChCG,MAAM,EACNC,gBAAiBvJ,EAAkBoJ,GACnCI,YAAaxJ,EAAkBoJ,GAC/BK,YAAa,IACbpK,KAAM,QAIdA,EAAKD,SAAQ,SAAAsK,GACTT,EAAW7J,SAAS,SAAA+J,GACED,EAAcxJ,MAAM,SAAAL,GAAI,OAAIA,EAAK8J,YAAcA,KACvD9J,KAAKO,MAAM8J,EAAIP,IAAcO,EAAIP,GAAa,EAAI,EAAIO,EAAIP,UAIrED,EMjPcS,CAAgBlB,EAASC,GACxCkB,ENqQ4B,SAACnB,GAEnC,IAAMoB,EAAYpB,EAAQxB,KAAI,SAAAC,GAAI,OAAIA,EAAKrJ,QAErCiM,EAAc,GAYpB,OAVAD,EAAUzK,SAAQ,SAAA8H,GACd,IAAI6C,EAAaC,OAAO9C,GACpBjF,EAAO3C,OAAOyK,EAAWzE,UAAU,EAAE,IACrCzD,EAAQvC,OAAOyK,EAAWzE,UAAU,EAAE,IACtCvD,EAAMzC,OAAOyK,EAAWzE,UAAU,EAAE,KAGxCwE,EAAYlK,KAAK,IAAIgC,KAAKC,EAAQ,IAAME,EAAM,IAAME,OAGjD6H,EMrRUG,CAAuBxB,GAIxC,OACI,yBAAK7B,UAAU,2CACX,yBAAKA,UAAU,0CACX,8BAAO+B,GADX,IACmC,qCAAWjM,EAAW0F,GAAezF,MADxE,IACqF,qCAAWoD,EAAMsC,KAErGyG,EACO,kBAAC,EAAD,CACAxB,UAAU,OACVC,aAAgBA,EAChBC,YAAeoC,EACfnC,aAAgBA,EAChBC,QAAWA,IAGf,uEAGJ,yBAAKd,UAAU,gBAAf,YACI,0BAAMA,UAAU,YAAYsD,QAAS,kBAAKhP,OAAOiP,KAAKvB,KAAiBC,Q,eCvC1EuB,GAAiBC,IAAOC,IAAV,mIAQdC,GAAmBF,IAAOC,IAAV,6cCAdE,GANC,kBACZ,kBAACJ,GAAD,KACI,kBAACG,GAAD,QCuEOrE,I,MAAAA,aANS,SAAAhK,GAAK,MAAK,CAC9BkG,cAAelG,EAAMiK,YAAY/D,cACjCqI,iBAAkBvO,EAAMiK,YAAYsE,iBACpCtN,wBAAyBjB,EAAMiK,YAAYhJ,2BAGhC+I,EArEI,SAAC,GAA8C,IAA7C9D,EAA4C,EAA5CA,cAAejF,EAA6B,EAA7BA,wBAE1B2L,EAA0BC,MAAMC,QAAQ7L,IAA4BA,EAAwBS,OAAS,EAEvG8M,EAAYhO,EAAW0F,GAEvBuI,EAAmB,GACnBC,EAAmB,EACnBC,EAAgB,EAChBC,EAAyB,EACzBC,EAAa,EACbC,EAAyB,EAW7B,OATIlC,IACA6B,EAAmBxN,EAAwBuC,MAAK,SAAAL,GAAI,OAAIA,EAAKnD,QAAQkG,KACrEwI,EAAmBvJ,EAAcsJ,EAAiB/L,YAAY8L,EAAU9N,YACxEiO,EAAgBxJ,EAAcsJ,EAAiB9L,aAAa6L,EAAU9N,YACtEkO,EAA0BzJ,EAAcsJ,EAAiB5L,qBAAqB4L,EAAiB7L,gBAC/FiM,EAAc1J,EAAcsJ,EAAiB1L,eAAe0L,EAAiB3L,UAC7EgM,EAAyB3J,EAAcsJ,EAAiB9L,aAAc8L,EAAiB/L,cAIvF,yBAAKgI,UAAU,gCACX,yBAAKA,UAAU,6BAA6B8D,EAAU/N,KAAtD,qBACCmM,EACG,yBAAKlC,UAAU,eACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,cAAf,eACA,yBAAKA,UAAU,eAAe7F,EAAiB4J,EAAiB/L,cAChE,yBAAKgI,UAAU,WAAWgE,EAA1B,0BAEJ,yBAAKhE,UAAU,YACX,yBAAKA,UAAU,cAAf,gBACA,yBAAKA,UAAU,eAAe7F,EAAiB4J,EAAiB9L,eAChE,yBAAK+H,UAAU,WAAWiE,EAA1B,yBAA6D,6BAAMG,EAAnE,oBAEJ,yBAAKpE,UAAU,YACX,yBAAKA,UAAU,cAAf,gBACA,yBAAKA,UAAU,eAAe7F,EAAiB4J,EAAiB5L,uBAChE,yBAAK6H,UAAU,WAAWkE,EAA1B,OAAsD/J,EAAiB4J,EAAiB7L,gBAAgB,6BAAxG,mCAEJ,yBAAK8H,UAAU,YACX,yBAAKA,UAAU,cAAf,wBACA,yBAAKA,UAAU,eAAe7F,EAAiB4J,EAAiB1L,iBAChE,yBAAK2H,UAAU,WAAWmE,EAA1B,OAA0ChK,EAAiB4J,EAAiB3L,UAAU,6BAAtF,8BAIR,uEAEJ,yBAAK4H,UAAU,gBACX,2DAAiCxE,EAAjC,KAAkDrB,EAAiB2J,EAAU9N,aADjF,YAGI,0BAAMgK,UAAU,YAAYsD,QAAS,kBAAKhP,OAAOiP,KAAK,yGAAtD,OAHJ,QAII,0BAAMvD,UAAU,YAAYsD,QAAS,kBAAKhP,OAAOiP,KAAK,kGAAtD,kBAJJ,QAKI,0BAAMvD,UAAU,YAAYsD,QAAS,kBAAKhP,OAAOiP,KAAK,iHAAtD,4BChEHc,I,MAAkC,CAC3CC,YAAY,EACZC,YAAa,EACbC,qBAAqB,EACrBC,MAAO,CAAEC,SAAS,GAClBC,SAAU,CACNC,KAAM,QACNC,WAAW,EACXC,UAAW,OACXC,SAAU,UACVC,UAAW,CACPvC,MAAO,SAASwC,EAAaxM,GACzB,IAAIkH,EAAOlH,EAAK+I,SAASyD,EAAYC,cAAczC,MAC/C1F,EAAQtE,EAAK+I,SAASyD,EAAYC,cAAczM,KAAKwM,EAAYzC,OACrE,OAAO7C,EAAO,MAAQwF,SAASpI,GAAOqI,oBAIlDC,YAAa,CACTR,WAAW,EACXS,KAAM,KAEVC,OAAQ,CAACR,SAAS,MAAOxD,OAAQ,CAACiE,SAAS,EAAGC,SAAS,GAAIC,eAAc,EAAMC,QAAQ,KACvFC,SAAU,CACNC,MAAM,CACFC,OAAQ,IAGhBC,OAAQ,CAACJ,QAAS,CAACK,KAAM,EAAGC,MAAO,EAAGC,IAAK,EAAGC,OAAQ,IAEtDC,OAAQ,CACJC,MAAO,CAAC,CACJ3B,SAAS,EACT/E,KAAM,OACN2G,UAAW,CACT5B,SAAQ,GAEV6B,KAAM,CACJC,QAAS,QACTC,cAAc,cAEhBC,WAAY,CACRhC,SAAS,KAGjBiC,MAAO,CAAC,CACJjC,SAAS,EACTgC,WAAY,CACRhC,SAAS,GAEbkC,MAAO,CACHC,IAAK,EACLC,aAAY,EACZC,SAAU,SAAStE,GACf,OAAOuE,GAAmBvE,UAOjCwE,GAAmC,WAC5C,IAAItG,EAAcuG,KAAKC,MAAMD,KAAKE,UAAU/C,KAE5C,OADA1D,EAAY,OAAZ,MAAgC,GAAhC,mBAA8D,WACvDA,GAGE0G,GAA+B,CACxC9C,YAAa,EACbC,qBAAqB,EACrBF,YAAY,EACZG,MAAO,CAAEC,SAAS,GAClBC,SAAU,CACNC,KAAM,QACNC,WAAW,EACXC,UAAW,OACXE,UAAW,CACPvC,MAAO,SAASwC,EAAaxM,GAC3B,IAAIkH,EAAOlH,EAAK+I,SAASyD,EAAYC,cAAczC,MAC/C1F,EAAQtE,EAAK+I,SAASyD,EAAYC,cAAczM,KAAKwM,EAAYzC,OACrE,OAAO7C,EAAO,MAAQwF,SAASpI,GAAOqI,oBAIhDkC,MAAO,CAAC1C,KAAM,UAAWC,WAAW,GACpCU,OAAQ,CAACR,SAAS,MAAOxD,OAAQ,CAACiE,SAAS,EAAGC,SAAS,GAAIC,eAAc,EAAMC,QAAS,KACxFC,SAAU,CACNC,MAAM,CACFC,OAAQ,IAGhBC,OAAQ,CACJJ,QAAS,CACLK,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,IAEhBC,OAAQ,CACJC,MAAM,CAAC,CACHkB,SAAS,EACTX,MAAO,CACHE,aAAa,KAGrBH,MAAM,CAAC,CAGHY,SAAS,EACTX,MAAO,CACHE,aAAa,EACbC,SAAU,SAAStE,GACf,OAAOuE,GAAmBvE,SAWxCuE,GAAqB,SAACQ,GAExB,IAAM/E,EAAQ/J,OAAO8O,GAErB,OAAI/E,GAAS,IACFA,EAAQ,IAAU,IAEpBA,GAAS,IACPA,EAAQ,IAAO,IAGfA,GC/EAnD,gBANS,SAAAhK,GAAK,MAAK,CAC9BkG,cAAelG,EAAMiK,YAAY/D,cACjCC,aAAcnG,EAAMiK,YAAY9D,aAChCpF,kBAAmBf,EAAMiK,YAAYlJ,qBAG1BiJ,EA7CS,SAAC,GAAsD,IAArDjJ,EAAoD,EAApDA,kBAAmBmF,EAAiC,EAAjCA,cAAeC,EAAkB,EAAlBA,aAElDyG,EAA0BC,MAAMC,QAAQ/L,IAAsBA,EAAkBW,OAAS,EAEzF6K,EAAUlF,EAAsBpB,EAAwBlF,EAAmBmF,EAAeC,IAE1FgM,EXqMyB,SAACC,GAChC,IAAMC,EAAa,GAOnB,OALAD,EAAUlP,SAAQ,SAAAoP,GACd,IAAMC,EAAY1L,EAAmByL,GACrCD,EAAW3O,KAAK6O,MAGbF,EW7MWG,CAAoBjG,EAAQxB,KAAI,SAAAC,GAAI,OAAIA,EAAKlE,cACzD2L,EAAgBlG,EAAQxB,KAAI,SAAAC,GAAI,OAAgC,MAA5BA,EAAK9D,oBAA8B,EAAI8D,EAAK9D,uBAChFwL,EAAcnG,EAAQxB,KAAI,SAAAC,GAAI,OAA6B,MAAzBA,EAAKtD,iBAA2B,EAAIsD,EAAKtD,oBAC3E6D,EXqPkB,CACpB,CACI4B,MAAO,WACPE,gBAAiB,MACjBlK,KWzPqCsP,GX2PzC,CACItF,MAAO,aACPE,gBAAiB,OACjBlK,KW9PoDuP,IAE5D,OACI,yBAAKhI,UAAU,oCACX,yBAAKA,UAAU,6BAAf,+BAAuE,qCAAWlK,EAAW0F,GAAezF,MAA5G,IAAyH,qCAAWoD,EAAMsC,KAC1I,6BACKyG,EACG,yBAAKlC,UAAU,gBACX,6BACI,kBAAC,EAAD,CACAU,UAAU,MACVC,aAAgB0G,GAChBxG,aAAgBA,EAChBD,YAAe6G,EACf3G,QAAU,uBAKlB,wEAGR,yBAAKd,UAAU,gBAAf,aACgB,0BAAMA,UAAU,YAAYsD,QAAS,kBAAKhP,OAAOiP,KAAK,4FAAtD,8BAAkL,kCCiE/LjE,gBAbS,SAAAhK,GAAK,MAAK,CAC9B2S,aAAc3S,EAAMiK,YAAY0I,aAChCzM,cAAelG,EAAMiK,YAAY/D,cACjCC,aAAcnG,EAAMiK,YAAY9D,aAChCnF,yBAA0BhB,EAAMiK,YAAYjJ,yBAC5CE,8BAA+BlB,EAAMiK,YAAY/I,8BACjDH,kBAAmBf,EAAMiK,YAAYlJ,sBAGd,SAAAmJ,GAAQ,MAAK,CACpC0I,eAAgB,SAACzP,GAAD,OAAU+G,ER5FA,SAAC/G,GAAD,MAAW,CACrCkH,KAAOf,EAAiBI,iBACxBY,QAASnH,GQ0F0ByP,CAAezP,QAGvC6G,EAzFW,SAAC,GAA2I,IAA1I4I,EAAyI,EAAzIA,eAAgBD,EAAyH,EAAzHA,aAAczM,EAA2G,EAA3GA,cAAeC,EAA4F,EAA5FA,aAAcnF,EAA8E,EAA9EA,yBAAyBE,EAAqD,EAArDA,8BAA8BH,EAAuB,EAAvBA,kBAsB1I,OApBA+K,qBAAU,WAAM,4CAGZ,4BAAAjL,EAAA,kEAEa8R,EAFb,gCAIoC/R,IAJpC,OAIkBiS,EAJlB,OAKYD,EAAeC,GAL3B,uDASQ3S,QAAQC,IAAR,MATR,0DAHY,0DAgBZ2S,KAEF,CAACF,EAAeD,IAId,yBAAKjI,UAAU,aACX,yBAAKA,UAAU,eACX,yBAAKA,UAAU,cAAa,sDAA5B,IAA8D,oDAC9D,yBAAKA,UAAU,iBAAf,wCACA,kBAAC,EAAD,OAEDiI,EAGC,yBAAKjI,UAAU,eACX,kBAAC,GAAD,MACA,kBAAC,EAAD,CACI6B,QAAS5E,EAAsB3G,EAA0BkF,EAAeC,GACxEqG,mBAAoB9H,EAA4BC,YAChD8H,gBAAgB,qBAChBjB,QAAQ,iBACRH,aAAgB0D,GAChBrC,cAAe7C,EACf8C,gBAAgB,+BACpB,kBAAC,EAAD,CACIJ,QAAS5E,EAAsBzG,EAA+BgF,EAAeC,GAC7EqG,mBAAoB9H,EAA4BjB,aAChDgJ,gBAAgB,2BAChBjB,QAAQ,eACRH,aAAgB0D,GAChBrC,cAAe5C,EAAiBrG,aAChCkJ,gBAAgB,iBAEpB,kBAAC,EAAD,CACIJ,QAAShG,EAAwBxF,EAAmBmF,EAAeC,GACnEqG,mBAAoB5H,EACpB6H,gBAAgB,uBAChBjB,QAAQ,4BACRH,aAAgBsG,KAChBjF,cAAe7C,EACf8C,gBAAgB,+BAEpB,kBAAC,GAAD,OA9BJ,kBAAC,GAAD,MAiCJ,yBAAKjC,UAAU,eAAf,gBACiB,6BACb,0BAAMA,UAAU,mBAAmBsD,QAAS,kBAAKhP,OAAOiP,KAAK,yDAA7D,sBAA8I,6BAC9I,0BAAMvD,UAAU,mBAAmBsD,QAAS,kBAAKhP,OAAOiP,KAAK,0BAA7D,8BAAuH,6BACvH,0BAAMvD,UAAU,mBAAmBsD,QAAS,kBAAKhP,OAAOiP,KAAK,6BAA7D,kBAA8G,6BAJlH,QAKS,6BACL,0BAAMvD,UAAU,mBAAmBsD,QAAS,kBAAKhP,OAAOiP,KAAK,qCAA7D,qBAAyH,kC,MCxE1H8E,OAVf,WACE,OACE,yBAAKrI,UAAU,OACb,4BAAQA,UAAU,cAChB,kBAAC,GAAD,S,wBCPFsI,GAAgB,CAClBC,kBAAmB,KACnB1E,iBAAkB,KAClB2E,mBAAoB,KACpBpS,gBAAiB,KACjBC,kBAAmB,KACnB4R,cAAc,EACdzM,cAAe,KACfC,aAAa,KACbgN,eAAgB,IAqCLC,GAlCY,WAAoC,IAAnCpT,EAAkC,uDAA1BgT,GAAeK,EAAW,uCAE1D,OAAOA,EAAOhJ,MAEV,KAAKf,EAAiBI,iBAClB,MAAO,CACHxD,chBiBc,MgBhBdC,ahBCa,WgBAbrF,gBAAiBuS,EAAO/I,QAAQxJ,gBAChCC,kBAAmBsS,EAAO/I,QAAQvJ,kBAClC4R,cAAc,EACd3R,yBAA0BqS,EAAO/I,QAAQtJ,yBACzCC,wBAAyBoS,EAAO/I,QAAQrJ,wBACxCC,8BAAgCmS,EAAO/I,QAAQpJ,+BAGvD,KAAKoI,EAAiBC,oBAClB,OAAO,6BACAvJ,GADP,IAEIkG,cAAemN,EAAO/I,UAG9B,KAAKhB,EAAiBM,mBAClB,OAAO,6BACA5J,GADP,IAEImG,aAAckN,EAAO/I,UAG7B,QACI,OAAOtK,ICxCJsT,gBAAgB,CAC3BrJ,YAAamJ,KCOjB,IAEeG,GAFDC,aAAYC,GAAaC,KAAe,WAAf,EAPb,KCM1BC,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,IACf,kBAAC,GAAD,OAEFM,SAASC,eAAe,StBOnB,SAAkBxU,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIwU,IAAIC,oBAAwBhV,OAAOC,SAASgV,MACpDC,SAAWlV,OAAOC,SAASiV,OAIvC,OAGFlV,OAAOmV,iBAAiB,QAAQ,WAC9B,IAAM9U,EAAK,UAAM2U,oBAAN,sBAEPlV,IAgEV,SAAiCO,EAAOC,GAEtC6C,MAAM9C,EAAO,CACX+U,QAAS,CAAE,iBAAkB,YAE5B1U,MAAK,SAAA0C,GAEJ,IAAMiS,EAAcjS,EAASgS,QAAQE,IAAI,gBAEnB,MAApBlS,EAASmS,QACO,MAAfF,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CjV,UAAUC,cAAciV,MAAM/U,MAAK,SAAAC,GACjCA,EAAa+U,aAAahV,MAAK,WAC7BV,OAAOC,SAAS0V,eAKpBvV,EAAgBC,EAAOC,MAG1BgB,OAAM,WACLJ,QAAQC,IACN,oEAvFAyU,CAAwBvV,EAAOC,GAI/BC,UAAUC,cAAciV,MAAM/U,MAAK,WACjCQ,QAAQC,IACN,iHAMJf,EAAgBC,EAAOC,OsB7B/BE,K","file":"static/js/main.bf5f6e36.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/* \r\nPopulation data taken from US Census estimates for July 2020. \r\nhttps://www2.census.gov/programs-surveys/decennial/2020/data/apportionment/population-change-data-table.pdf\r\n\r\nThis data changes approx every 18 months. No need to scrub every time.\r\n\r\n\"USA\" population = US Total in pdf + PR Total\r\n\r\n*/\r\nexport const STATE_INFO = [];\r\nSTATE_INFO[\"AK\"]={name:\"Alaska\", population:733391}\r\nSTATE_INFO[\"AL\"]={name:\"Alabama\", population:5024279}\r\nSTATE_INFO[\"AR\"]={name:\"Arkansas\", population:3011524}\r\nSTATE_INFO[\"AZ\"]={name:\"Arizona\", population:7151502}\r\nSTATE_INFO[\"CA\"]={name:\"California\", population:39538223}\r\nSTATE_INFO[\"CO\"]={name:\"Colorado\", population:5773714}\r\nSTATE_INFO[\"CT\"]={name:\"Connecticut\", population:3605944}\r\nSTATE_INFO[\"DC\"]={name:\"District of Columbia\", population:689545}\r\nSTATE_INFO[\"DE\"]={name:\"Delaware\", population:989948}\r\nSTATE_INFO[\"FL\"]={name:\"Florida\", population:21538187}\r\nSTATE_INFO[\"GA\"]={name:\"Georgia\", population:10711908}\r\nSTATE_INFO[\"HI\"]={name:\"Hawaii\", population:1455271}\r\nSTATE_INFO[\"IA\"]={name:\"Iowa\", population:3190369}\r\nSTATE_INFO[\"ID\"]={name:\"Idaho\", population:1839106}\r\nSTATE_INFO[\"IL\"]={name:\"Illinois\", population:12812508}\r\nSTATE_INFO[\"IN\"]={name:\"Indiana\", population:6785528}\r\nSTATE_INFO[\"KS\"]={name:\"Kansas\", population:2937880}\r\nSTATE_INFO[\"KY\"]={name:\"Kentucky\", population:4505836}\r\nSTATE_INFO[\"LA\"]={name:\"Louisiana\", population:4657757}\r\nSTATE_INFO[\"MA\"]={name:\"Massachusetts\", population:7029917}\r\nSTATE_INFO[\"MD\"]={name:\"Maryland\", population:6177224}\r\nSTATE_INFO[\"ME\"]={name:\"Maine\", population:1362359}\r\nSTATE_INFO[\"MI\"]={name:\"Michigan\", population:10077331}\r\nSTATE_INFO[\"MN\"]={name:\"Minnesota\", population:5706494}\r\nSTATE_INFO[\"MO\"]={name:\"Missouri\", population:6154913}\r\nSTATE_INFO[\"MS\"]={name:\"Mississippi\", population:2961279}\r\nSTATE_INFO[\"MT\"]={name:\"Montana\", population:1084225}\r\nSTATE_INFO[\"NC\"]={name:\"North Carolina\", population:10439388}\r\nSTATE_INFO[\"ND\"]={name:\"North Dakota\", population:779094}\r\nSTATE_INFO[\"NE\"]={name:\"Nebraska\", population:1961504}\r\nSTATE_INFO[\"NH\"]={name:\"New Hampshire\", population:1377529}\r\nSTATE_INFO[\"NJ\"]={name:\"New Jersey\", population:9288994}\r\nSTATE_INFO[\"NM\"]={name:\"New Mexico\", population:2117522}\r\nSTATE_INFO[\"NV\"]={name:\"Nevada\", population:3104614}\r\nSTATE_INFO[\"NY\"]={name:\"New York\", population:20201249}\r\nSTATE_INFO[\"OH\"]={name:\"Ohio\", population:11799448}\r\nSTATE_INFO[\"OK\"]={name:\"Oklahoma\", population:3959353}\r\nSTATE_INFO[\"OR\"]={name:\"Oregon\", population:4237256}\r\nSTATE_INFO[\"PA\"]={name:\"Pennsylvania\", population:13002700}\r\nSTATE_INFO[\"PR\"]={name:\"Puerto Rico\", population:3285874}\r\nSTATE_INFO[\"RI\"]={name:\"Rhode Island\", population:1097379}\r\nSTATE_INFO[\"SC\"]={name:\"South Carolina\", population:5118425}\r\nSTATE_INFO[\"SD\"]={name:\"South Dakota\", population:886667}\r\nSTATE_INFO[\"TN\"]={name:\"Tennessee\", population:6910840}\r\nSTATE_INFO[\"TX\"]={name:\"Texas\", population:29145505}\r\nSTATE_INFO[\"UT\"]={name:\"Utah\", population:3271616}\r\nSTATE_INFO[\"VA\"]={name:\"Virginia\", population:8631393}\r\nSTATE_INFO[\"VT\"]={name:\"Vermont\", population:643077}\r\nSTATE_INFO[\"WA\"]={name:\"Washington\", population:7705281}\r\nSTATE_INFO[\"WI\"]={name:\"Wisconsin\", population:5893718}\r\nSTATE_INFO[\"WV\"]={name:\"West Virginia\", population:1793716}\r\nSTATE_INFO[\"WY\"]={name:\"Wyoming\", population:576851}\r\nSTATE_INFO[\"USA\"]={name:\"United States\", population:334735155}\r\n","import {STATE_INFO} from './states-meta-data';\r\n\r\n//const URL_DEATHS_BY_AGE_DATA = \"https://data.cdc.gov/resource/9bhg-hcku.json?$select=year,state,age_group,sum(covid_19_deaths),sum(total_deaths) where sex ='All Sexes' and `group`='By Year' and age_group in ('0-17 years', '18-29 years', '30-39 years','40-49 years','50-64 years','65-74 years','75-84 years','85 years and over') group by year,state,age_group&$order=year,state,age_group\"+ CDC_TOKEN;;\r\nconst URL_COUNTY_LEVEL_DATA = \"https://raw.githubusercontent.com/nytimes/covid-19-data/master/live/us-counties.csv\"\r\n\r\n\r\n/* New Data Sets from CDC */\r\nconst CDC_TOKEN = \"&$limit=500000&$$app_token=fz22RHPlELrzEw1j9vq91YH6N\";\r\nconst URL_CDC_CASES_DEATHS_BY_STATE_TOTAL = \"https://data.cdc.gov/resource/9mfq-cb36.json?$select=state,max(tot_cases) as total_cases,max(tot_death) as total_deaths&$group=state&$order=state\" + CDC_TOKEN;\r\nconst URL_CDC_CASES_DEATHS_BY_STATE_HISTORY= \"https://data.cdc.gov/resource/9mfq-cb36.json?$select=submission_date as date,state,new_case,new_death&$order=submission_date,state\" + CDC_TOKEN;\r\nconst URL_CDC_CASES_DEATHS_USA_HISTORY = \"https://data.cdc.gov/resource/9mfq-cb36.json?$select=submission_date as date,'USA' as state,sum(new_case) as new_case,sum(new_death) as new_death&$group=submission_date&$order=submission_date\" + CDC_TOKEN;\r\n\r\nconst URL_CDC_DATA_AGE_GROUPS_PER_MONTH = \"https://data.cdc.gov/resource/9bhg-hcku.json?$select=year,month,state,age_group,sum(covid_19_deaths),sum(total_deaths) where sex ='All Sexes' and `group`='By Month' and age_group in ('0-17 years', '18-29 years', '30-39 years','40-49 years','50-64 years','65-74 years','75-84 years','85 years and over') group by year,month,state,age_group&$order=year,month,state,age_group\"+ CDC_TOKEN;\r\n\r\nconst URL_CDC_HOSPITAL_DATA_BY_STATE_HISTORY = \"https://healthdata.gov/resource/g62h-syeh.json?$select=date,state,inpatient_beds,%20inpatient_beds_used_covid%20as%20inpatient_beds_covid,total_staffed_adult_icu_beds%20as%20icu_beds,%20staffed_icu_adult_patients_confirmed_covid%20as%20icu_beds_covid&$order=date,state not in ('AS','FM','GU','MH','MP','PW','VI')\" + CDC_TOKEN;\r\nconst URL_CDC_HOSPITAL_DATA_BY_STATE_TOTALS = \"https://healthdata.gov/resource/g62h-syeh.json?$select=date,state,inpatient_beds,%20inpatient_beds_used_covid%20as%20inpatient_beds_covid,total_staffed_adult_icu_beds%20as%20icu_beds,%20staffed_icu_adult_patients_confirmed_covid%20as%20icu_beds_covid&$where=state not in ('AS','FM','GU','MH','MP','PW','VI') and date=\";\r\nconst URL_CDC_HOSPTIAL_DATA_USA_HISTORY = \"https://healthdata.gov/resource/g62h-syeh.json?$select=date,%22USA%22%20as%20state,sum(inpatient_beds)%20as%20impatient_beds,%20sum(inpatient_beds_used_covid)%20as%20inpatient_beds_covid,%20sum(total_staffed_adult_icu_beds)%20as%20icu_beds,%20sum(staffed_icu_adult_patients_confirmed_covid)%20as%20icu_beds_covid&$group=date&$order=date&$where=state not in ('AS','FM','GU','MH','MP','PW','VI')\" + CDC_TOKEN;\r\n/*\r\nAs of March 2020, The Covid Tracking project ended its funding, so all datapoints have to\r\nnow be sourced directly from CDC. The link below has all related data links:\r\nhttps://covidtracking.com/about-data/data-summary\r\n\r\nconst URL_STATE_META_DATA = \"https://api.covidtracking.com/v1/states/info.json\";\r\nconst URL_STATE_TOTALS_DATA = \"https://api.covidtracking.com/v1/states/current.json\";\r\nconst URL_STATES_HISTORY_DATA = \"https://api.covidtracking.com/v1/states/daily.json\";\r\nconst URL_COUNTRY_TOTALS_DATA = \"https://api.covidtracking.com/v1/us/current.json\";\r\nconst URL_COUNTRY_HISTORY_DATA = \"https://api.covidtracking.com/v1/us/daily.json\";\r\n\r\n*/\r\n\r\nexport const getFreshData = async() => {\r\n    \r\n    let stateCountyInfo = [];\r\n    let deathsByAgeGroups = []\r\n    let cdcHistoryByJurisdiction = [];\r\n    let cdcTotalsByJurisdiction = [];\r\n    let cdcHospitalDataByJurisdiction=[];\r\n    let cdcHospitalDataLastUpdate = \"\";\r\n\r\n    try {\r\n        \r\n        let dataHistoryByState = await fetchJsonData(URL_CDC_CASES_DEATHS_BY_STATE_HISTORY);\r\n        let dataHistoryUSA = await fetchJsonData(URL_CDC_CASES_DEATHS_USA_HISTORY);\r\n        cdcHistoryByJurisdiction = dataHistoryByState.concat(dataHistoryUSA);\r\n\r\n        let dataHospitalByState = await fetchJsonData(URL_CDC_HOSPITAL_DATA_BY_STATE_HISTORY);\r\n        let dataHospitalUSA =await fetchJsonData(URL_CDC_HOSPTIAL_DATA_USA_HISTORY);\r\n        cdcHospitalDataByJurisdiction = dataHospitalByState.concat(dataHospitalUSA);\r\n\r\n        // Get current hospital data per state \r\n        cdcHospitalDataLastUpdate = dataHospitalByState[dataHospitalByState.length -1].date;\r\n        let hospitalTotalsURL = URL_CDC_HOSPITAL_DATA_BY_STATE_TOTALS + \"'\" + cdcHospitalDataLastUpdate + \"'\" + CDC_TOKEN;\r\n\r\n        let dataHospitalTotals = await fetchJsonData(hospitalTotalsURL);\r\n        let dataCasesDeathsByState = await fetchJsonData(URL_CDC_CASES_DEATHS_BY_STATE_TOTAL);\r\n\r\n        cdcTotalsByJurisdiction = await getTotalsByJurisdiction(dataCasesDeathsByState, dataHospitalTotals);\r\n        \r\n        deathsByAgeGroups = await fetchJsonData(URL_CDC_DATA_AGE_GROUPS_PER_MONTH);\r\n\r\n        return {\r\n            stateCountyInfo: stateCountyInfo,\r\n            deathsByAgeGroups: deathsByAgeGroups,\r\n            cdcTotalsByJurisdiction: cdcTotalsByJurisdiction,\r\n            cdcHistoryByJurisdiction: cdcHistoryByJurisdiction,\r\n            cdcHospitalDataByJurisdiction: cdcHospitalDataByJurisdiction\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const fetchJsonData = async(url) => {\r\n    try{\r\n        let json = null;\r\n\r\n        // U.S. States Historical Data\r\n        const response = await fetch(url);\r\n        if (response.ok) {\r\n            json = await response.json();\r\n        }\r\n        else {\r\n            throw Error(response.statusText);\r\n        }\r\n        \r\n        return json;\r\n    }\r\n    catch (error) {\r\n        console.log(\"fetchJsonData() error!\", error);\r\n    }\r\n}\r\n\r\nexport const fetchCountyData = async() => {\r\n\r\n    try {\r\n        const url = URL_COUNTY_LEVEL_DATA;\r\n        \r\n        let stateCountyData = [];\r\n\r\n        const response = await fetch(url);\r\n        if (response.ok) {\r\n            const csvText = await response.text();\r\n            stateCountyData = parseCountyCSVData(csvText);\r\n            stateCountyData.filter(data => data.deaths > 0 || data.cases > 0);\r\n        }\r\n        else {\r\n            throw Error(response.statusText);\r\n        }\r\n\r\n        return stateCountyData;\r\n    }\r\n    catch (error) {\r\n        \r\n    }\r\n}\r\n\r\n//Parsing County Data specific to dataset specs\r\nfunction parseCountyCSVData(csv){\r\n\r\n    var lines=csv.split(\"\\n\");\r\n\r\n    var result = [];\r\n\r\n    for(var i=1;i<lines.length;i++){\r\n\r\n        const currentline=lines[i].split(\",\");\r\n        const county = {};\r\n        county.county = currentline[1];\r\n        county.stateName = currentline[2];\r\n        county.cases = currentline[4]\r\n        county.deaths = currentline[5];\r\n        result.push(county);\r\n    }\r\n\r\n    return result; \r\n}\r\n\r\n\r\nconst getTotalsForUSA = (totalsByState) => {\r\n\r\n    let total_cases = 0;\r\n    let total_deaths = 0;\r\n    let inpatient_beds = 0;\r\n    let inpatient_beds_covid = 0;\r\n    let icu_beds = 0;\r\n    let icu_beds_covid = 0;\r\n    let partiallyVaccinated = 0;\r\n    let fullyVaccinated = 0;\r\n\r\n    totalsByState.forEach(data => {\r\n        total_cases += Number(data.total_cases);\r\n        total_deaths += Number(data.total_deaths);\r\n        inpatient_beds += Number(data.inpatient_beds);\r\n        inpatient_beds_covid += Number(data.inpatient_beds_covid);\r\n        icu_beds += Number(data.icu_beds);\r\n        icu_beds_covid += Number(data.icu_beds_covid);\r\n        partiallyVaccinated += Number(data.partiallyVaccinated);\r\n        fullyVaccinated += Number(data.fullyVaccinated);\r\n    })\r\n\r\n    let totals = {\r\n        state:\"USA\", \r\n        total_cases: total_cases, \r\n        total_deaths: total_deaths,\r\n        inpatient_beds: inpatient_beds,\r\n        inpatient_beds_covid: inpatient_beds_covid,\r\n        icu_beds: icu_beds,\r\n        icu_beds_covid: icu_beds_covid,\r\n        partiallyVaccinated: partiallyVaccinated,\r\n        fullyVaccinated: fullyVaccinated\r\n    }\r\n\r\n    return totals;\r\n}\r\n\r\nconst getTotalsByJurisdiction = async(dataCasesDeathsByState, dataHospitalTotals) => {\r\n\r\n    let totalsByState= [];\r\n    let stateKeys = Object.keys(STATE_INFO);\r\n    \r\n    stateKeys.forEach((state) => {\r\n\r\n        if (state !== \"USA\") {\r\n\r\n            let casesDeathsData =dataCasesDeathsByState.find(data => data.state===state);\r\n            let hospitalData = dataHospitalTotals.find(data => data.state===state);\r\n            if (!hospitalData)\r\n                hospitalData = {\r\n                    inpatient_beds: 0,\r\n                    inpatient_beds_covid: 0,\r\n                    icu_beds: 0,\r\n                    icu_beds_covid: 0\r\n                }\r\n\r\n            totalsByState.push({\r\n                state: state,\r\n                total_cases: Number(casesDeathsData.total_cases),\r\n                total_deaths: Number(casesDeathsData.total_deaths),\r\n                inpatient_beds: Number(hospitalData.inpatient_beds),\r\n                inpatient_beds_covid: Number(hospitalData.inpatient_beds_covid),\r\n                icu_beds: Number(hospitalData.icu_beds),\r\n                icu_beds_covid: Number(hospitalData.icu_beds_covid)\r\n            });\r\n        }\r\n    })\r\n\r\n    let dataTotalsUSA = getTotalsForUSA(totalsByState);\r\n    totalsByState.push(dataTotalsUSA);\r\n    \r\n\r\n    return totalsByState;\r\n}\r\n\r\nexport const mergeVaccinationsData = (dataModerna, dataPfizer, dataJJ) => {\r\n\r\n    let vaccinesByState = [];\r\n\r\n    let stateKeys = Object.keys(STATE_INFO);\r\n    \r\n    stateKeys.forEach((state) => {\r\n\r\n        const stateName = STATE_INFO[state].name.toUpperCase();\r\n\r\n        let fullyVaccinated = 0;\r\n        let partiallyVaccinated = 0;\r\n\r\n        let moderna = dataModerna.find(data => data.jurisdiction.toUpperCase()===stateName);\r\n        let pfizer = dataPfizer.find(data => data.jurisdiction.toUpperCase()===stateName);\r\n        let jj = dataJJ.find(data => data.jurisdiction.toUpperCase()===stateName);\r\n\r\n        if (moderna) { \r\n            partiallyVaccinated += Number(moderna.first_dose);\r\n            fullyVaccinated += Number(moderna.second_dose);\r\n        }\r\n\r\n        if (pfizer) { \r\n            partiallyVaccinated += Number(pfizer.first_dose);\r\n            fullyVaccinated += Number(pfizer.second_dose);\r\n        }\r\n\r\n        //JJ only required 1 dose\r\n        if (jj) { \r\n            fullyVaccinated += Number(jj.first_dose);\r\n        }\r\n\r\n        vaccinesByState.push({\r\n            state: state,\r\n            partiallyVaccinated: partiallyVaccinated,\r\n            fullyVaccinated: fullyVaccinated\r\n        })\r\n\r\n    });\r\n\r\n    return vaccinesByState;\r\n\r\n}","/*\r\n This is needed to maintain descending year order.\r\n Using Object.keys() to get keys from YEARS sorts\r\n the years in ascending order.\r\n*/\r\nexport const YEAR_KEYS = [\r\n    \"months-6\",\r\n    \"months-9\",\r\n    \"months-12\",\r\n    \"2021\", \r\n    \"2020\",\r\n    \"0\"\r\n];\r\n\r\nexport const YEARS = {\r\n    \"months-6\": \"Last 6 months\",\r\n    \"months-9\": \"Last 9 months\",\r\n    \"months-12\": \"Last 12 months\",\r\n    \"2021\": \"All 2021\",\r\n    \"2020\": \"All 2020\",\r\n    \"0\": \"All Time\",\r\n}\r\n\r\nexport const YEARS_DEFAULT = \"months-6\";\r\n\r\nexport const DATA_FIELD_COLORS = [\r\n    'green',\r\n    'red',\r\n    'blue',\r\n    'orange',\r\n    'pink',\r\n    'lime',\r\n    'black',\r\n    'cyan',\r\n    'purple',\r\n    'brown'\r\n];\r\n\r\nexport const USA_IDENTIFIER = \"USA\";\r\n\r\nexport const US_STATES_DATA = {\r\n    USA:\"United States\",\r\n    AL:\"Alabama\",\r\n    AK:\"Alaska\",\r\n    AR:\"Arkansas\",\r\n    AZ:\"Arizona\",\r\n    CA:\"California\", \r\n    CO:\"Colorado\", \r\n    CT:\"Connecticut\", \r\n    DE:\"Delaware\",\r\n    DC:\"District Of Columbia\", \r\n    FL:\"Florida\", \r\n    GA:\"Georgia\",\r\n    HI:\"Hawaii\", \r\n    ID:\"Idaho\", \r\n    IL:\"Illinois\", \r\n    IA:\"Iowa\", \r\n    IN:\"Indiana\", \r\n    KS:\"Kansas\", \r\n    KY:\"Kentucky\", \r\n    LA:\"Louisiana\",\r\n    ME:\"Maine\",  \r\n    MD:\"Maryland\",\r\n    MA:\"Massachusetts\", \r\n    MI:\"Michigan\",\r\n    MN:\"Minnesota\",\r\n    MS:\"Mississippi\", \r\n    MO:\"Missouri\", \r\n    MT:\"Montana\", \r\n    NC:\"North Carolina\", \r\n    ND:\"North Dakota\", \r\n    NE:\"Nebraska\", \r\n    NV:\"Nevada\",\r\n    NH:\"New Hampshire\", \r\n    NJ:\"New Jersey\", \r\n    NM:\"New Mexico\",  \r\n    NY:\"New York\", \r\n    OH:\"Ohio\", \r\n    OK:\"Oklahoma\", \r\n    OR:\"Oregon\", \r\n    PA:\"Pennsylvania\", \r\n    PR:\"Puerto Rico\", \r\n    RI:\"Rhode Island\",\r\n    SC:\"South Carolina\", \r\n    SD:\"South Dakota\", \r\n    TN:\"Tennessee\", \r\n    TX:\"Texas\", \r\n    UT:\"Utah\", \r\n    VT:\"Vermont\", \r\n    VA:\"Virginia\",\r\n    WA:\"Washington\", \r\n    WI:\"Wisconsin\", \r\n    WV:\"West Virginia\", \r\n    WY:\"Wyoming\"\r\n}\r\n\r\nexport const DATA_FIELD_DISPLAY_NAMES = {   \r\n    new_case: \"New Cases\",\r\n    new_death: \"New Deaths\",\r\n    inpatient_beds_covid: \"Inpatient\",\r\n    icu_beds_covid: \"ICU\",\r\n    ages_0_17:\"0-17\",\r\n    ages_18_29:\"18-29\",\r\n    ages_30_39:\"30-39\",\r\n    ages_40_49:\"40-49\",\r\n    ages_50_64:\"50-64\",\r\n    ages_65_74:\"65-74\",\r\n    ages_75_84:\"75-84\",\r\n    ages_85:\"85+\"\r\n};\r\n\r\n\r\nexport const COUNTY_SORT_FIELDS = {\r\n    SORT_BY_DEATHS : \"deaths\",\r\n    SORT_BY_CASES : \"cases\",\r\n    SORT_BY_COUNTY : \"county\"\r\n};\r\n\r\n\r\nexport const CDC_DATA_FIELDS_DAILY = [\r\n    \"new_case\",\r\n    \"new_death\",\r\n];\r\n\r\nexport const CDC_DATA_FIELDS_TOTALS = [\r\n    \"max_tot_cases\",\r\n    \"max_tot_death\",\r\n];\r\n\r\nexport const CDC_DATA_CHART_FIELD_GROUPS = {\r\n    dailyTotals: [\r\n        \"new_case\",\r\n        \"new_death\"\r\n    ],\r\n    hospitalData: [\r\n        \"inpatient_beds_covid\",\r\n        \"icu_beds_covid\"\r\n    ]\r\n}\r\n\r\nexport const DATA_X_LABELS = [\r\n    \"Jan 2020\",\r\n    \"Feb 2020\",\r\n    \"Mar 2020\",\r\n    \"Apr 2020\",\r\n    \"May 2020\",\r\n    \"Jun 2020\",\r\n    \"Jul 2020\",\r\n    \"Aug 2020\",\r\n    \"Sep 2020\",\r\n    \"Oct 2020\",\r\n    \"Nov 2020\",\r\n    \"Dec 2020\",\r\n    \"Jan 2021\",\r\n    \"Feb 2021\",\r\n    \"Mar 2021\",\r\n    \"Apr 2021\",\r\n    \"May 2021\",\r\n    \"Jun 2021\",\r\n    \"Jul 2021\",\r\n    \"Aug 2021\",\r\n    \"Sep 2021\",\r\n    \"Oct 2021\",\r\n    \"Nov 2021\",\r\n    \"Dec 2021\",\r\n];\r\n\r\n\r\nexport const CDC_AGE_GROUPS = [\"0-17\",\"18-29\",\"30-39\",\"40-49\",\"50-64\",\"65-74\",\"75-84\",\"85+\"];\r\n\r\nexport const AGE_GROUP_DATA_FIELDS = [\r\n    \"ages_0_17\",\r\n    \"ages_18_29\",\r\n    \"ages_30_39\",\r\n    \"ages_40_49\",\r\n    \"ages_50_64\",\r\n    \"ages_65_74\",\r\n    \"ages_75_84\",\r\n    \"ages_85\"]","export const getDisplayNumber = (num) => {\r\n    if (!num)\r\n        num = 0;\r\n    return Intl.NumberFormat('en-US', {useGrouping: true}).format(num);\r\n}\r\n\r\nexport const getPercentage = (partialNum, totalNum) => {\r\n    var percent = ((partialNum / totalNum) * 100).toFixed(2);\r\n    if (percent === \"0.00\")\r\n        percent = \"< 0.01\"\r\n    return percent + \"%\";\r\n}\r\n\r\nexport const getFormattedDateForFiltering = (dateValue) => {\r\n  \r\n    const date = new Date(dateValue);\r\n\r\n    let month = \"\" + (date.getMonth() + 1);\r\n    let day = \"\" + date.getDate();\r\n    let year = \"\" + date.getFullYear();\r\n\r\n    if (month.length < 2) \r\n        month = '0' + month;\r\n    if (day.length < 2) \r\n        day = '0' + day;\r\n\r\n    return Number(year + month + day);\r\n}","import {DATA_FIELD_COLORS, DATA_FIELD_DISPLAY_NAMES} from './data-fields';\r\nimport {STATE_INFO} from './states-meta-data';\r\nimport {getFormattedDateForFiltering} from './formatting';\r\n\r\nexport const getAgeGroupDataForState = (deathsByAgeGroups, selectedState, selectedYear) => {\r\n\r\n    const stateName = STATE_INFO[selectedState].name;\r\n    let ageGroupData = getCDCAgeGroupDataBySelection(deathsByAgeGroups, stateName, selectedYear);\r\n\r\n    /** CDC collects NYC separately from NY State. We are grouping them back into one number under NY state. **/\r\n    if(selectedState === \"NY\") \r\n        ageGroupData = ageGroupData.concat(getCDCAgeGroupDataBySelection(deathsByAgeGroups,\"New York City\",selectedYear));\r\n\r\n    return ageGroupData;\r\n}\r\n\r\nexport const getAgeGroupDataOverTime = (deathsByAgeGroups, selectedState, selectedYear) => {\r\n\r\n    const ageGroupData = getAgeGroupDataForState(deathsByAgeGroups, selectedState, selectedYear);\r\n\r\n    let newGroupData = [];\r\n\r\n    ageGroupData.forEach((ageGroupDataRec) => {\r\n\r\n        const date = (new Date(ageGroupDataRec.month + \"/01/\" + ageGroupDataRec.year)).toISOString().replace('Z', '').replace('T', '');\r\n        const ageGroup = \"ages_\" + formatAgeGroupName(ageGroupDataRec.age_group).replaceAll(\"-\",\"_\").replaceAll(\"+\",\"\").trim();\r\n        const deaths = Number(ageGroupDataRec.sum_covid_19_deaths);\r\n \r\n        //console.log(\"date=\" + date + \" | ageGroup=\" + ageGroup + \" | deaths=\" + deaths);\r\n\r\n        let dateRecord = newGroupData.find(rec => rec.date === date);\r\n\r\n        if(!dateRecord) {\r\n            dateRecord = {\r\n                date: date,\r\n                ages_0_17: ageGroup === \"ages_0_17\" ? deaths : 0,\r\n                ages_18_29:ageGroup === \"ages_18_29\" ? deaths : 0,\r\n                ages_30_39:ageGroup === \"ages_30_39\" ? deaths : 0,\r\n                ages_40_49:ageGroup === \"ages_40_49\" ? deaths : 0,\r\n                ages_50_64:ageGroup === \"ages_50_64\" ? deaths : 0,\r\n                ages_65_74:ageGroup === \"ages_65_74\" ? deaths : 0,\r\n                ages_75_84:ageGroup === \"ages_75_84\" ? deaths : 0,\r\n                ages_85:ageGroup === \"ages_85\" ? deaths : 0\r\n            }\r\n            \r\n            newGroupData.push(dateRecord);\r\n        }\r\n        else {\r\n            dateRecord[ageGroup] = deaths; \r\n        }      \r\n\r\n    });\r\n\r\n    //console.log(\"newGroupData=\" + JSON.stringify(newGroupData));\r\n    \r\n    return newGroupData;\r\n}\r\n\r\nexport const combineAgeGroupValues = (ageGroupData) => {\r\n\r\n    var result = [];\r\n    ageGroupData.reduce(\r\n        function(age_group_sum, value) {\r\n            if (!age_group_sum[value.age_group]) {\r\n                age_group_sum[value.age_group] = {\r\n                    age_group: value.age_group,\r\n                    sum_covid_19_deaths: !Number(value.sum_covid_19_deaths) ? 0 : Number(value.sum_covid_19_deaths),\r\n                    sum_total_deaths: !Number(value.sum_total_deaths) ? 0 : Number(value.sum_total_deaths)\r\n                };\r\n                result.push(age_group_sum[value.age_group])\r\n            }\r\n            else {\r\n                age_group_sum[value.age_group].sum_covid_19_deaths += !Number(value.sum_covid_19_deaths) ? 0 : Number(value.sum_covid_19_deaths);\r\n                age_group_sum[value.age_group].sum_total_deaths += !Number(value.sum_total_deaths) ? 0 : Number(value.sum_total_deaths);\r\n            }\r\n            return age_group_sum;\r\n        }\r\n    , {});\r\n\r\n    return result;\r\n\r\n}\r\n\r\nexport const getCDCDataBySelection = (cdcHistoryByJurisdiction, selectedState, selectedYear) => {\r\n\r\n    const monthsSelected = selectedYear.search(\"months-\");\r\n\r\n    if (monthsSelected > -1) {\r\n        const monthsBack = selectedYear.substr(monthsSelected+7, selectedYear.lenth); \r\n        const dateRange = getDateRangeValues(monthsBack);\r\n        return getCDCDataSetByDateRange(cdcHistoryByJurisdiction, selectedState, Number(getFormattedDateForFiltering(dateRange.startDate)), Number(getFormattedDateForFiltering(dateRange.endDate)))\r\n    }\r\n    else\r\n        return getCDCDataSetByYear(cdcHistoryByJurisdiction, selectedState, selectedYear);\r\n}\r\n\r\nexport const getCDCDataSetByYear = (cdcHistoryByJurisdiction, selectedState, selectedYear) =>{\r\n    \r\n    let dataSet = [];\r\n\r\n    if(selectedYear === \"0\") {\r\n        dataSet = cdcHistoryByJurisdiction\r\n            .filter(stateData => stateData.state === selectedState);\r\n    }\r\n    else {\r\n        dataSet = cdcHistoryByJurisdiction\r\n            .filter(stateData => stateData.state === selectedState && stateData.date.substr(0,4) === selectedYear);  \r\n    }\r\n\r\n    return dataSet.sort(function (a, b) {\r\n            return a.date - b.date;\r\n        });\r\n}\r\n\r\n// The variables startDate and endDate are numerical format yyyymmdd\r\nexport const getCDCDataSetByDateRange = (cdcHistoryByJurisdiction, selectedState, startDate, endDate) =>{\r\n    \r\n    let dataSet = cdcHistoryByJurisdiction\r\n        .filter(function (stateData) {\r\n            const date = Number(stateData.date.substr(0,10).replaceAll('-',''));\r\n            return stateData.state === selectedState \r\n                && date >= startDate \r\n                && date <= endDate;\r\n        })\r\n        .sort(function (a, b) {\r\n            return a.date - b.date;\r\n        });\r\n\r\n    return dataSet;\r\n}\r\n\r\nexport const getCDCAgeGroupDataByDateRange = (deathsByAgeGroups, stateName, dateRange) => {\r\n    \r\n    //console.log(\"dateRange.startDate = \" + dateRange.startDate + \" | dateRange.endDate = \" + dateRange.endDate);\r\n\r\n    let temp = deathsByAgeGroups\r\n    .filter(function (stateData) {\r\n        const year = stateData.year;\r\n        const month = stateData.month;\r\n        const calcDate = new Date(month + \"/1/\" + year);\r\n        \r\n        return stateData.state.toLowerCase() === stateName.toLowerCase() \r\n            && calcDate >= dateRange.startDate \r\n            && calcDate <= dateRange.endDate;\r\n    });\r\n\r\n    return temp;\r\n}\r\n\r\nexport const getCDCAgeGroupDataBySelection = (deathsByAgeGroups, stateName, selectedYear) => {\r\n    \r\n    let ageGroupDataSet = [];\r\n    const monthsSelected = selectedYear.search(\"months-\");\r\n    \r\n    if (monthsSelected > -1) {\r\n        // Add a month to include current month since data is based monthly\r\n        const monthsBack = Number(selectedYear.substr(monthsSelected+7, selectedYear.lenth)) + 1;         \r\n        const dateRange = getDateRangeValues(monthsBack)\r\n        ageGroupDataSet = getCDCAgeGroupDataByDateRange(deathsByAgeGroups, stateName, dateRange)\r\n    }\r\n    else { \r\n        if (selectedYear === \"0\"){\r\n            ageGroupDataSet = deathsByAgeGroups\r\n                .filter(data => data.state.toLowerCase() === stateName.toLowerCase())   \r\n        }\r\n        else {\r\n            const startDate = new Date(\"1/1/\" + selectedYear);\r\n            const endDate = new Date(\"12/31/\" + selectedYear);\r\n            const dateRange = {startDate: startDate, endDate: endDate}\r\n            ageGroupDataSet = getCDCAgeGroupDataByDateRange(deathsByAgeGroups, stateName, dateRange)\r\n        }\r\n    }\r\n\r\n    ageGroupDataSet.sort((a,b) => compareAgeGroupValues(a.age_group,b.age_group));\r\n\r\n    return ageGroupDataSet;\r\n}    \r\n\r\nexport const getDateRangeValues = (monthsBack) => {\r\n    \r\n    const startDate = new Date();\r\n    const endDate = new Date();\r\n\r\n    startDate.setMonth(startDate.getMonth() - monthsBack);\r\n    startDate.setDate(1);\r\n\r\n    return {startDate: startDate, endDate: endDate} \r\n}\r\n\r\nexport const getAgeGroupForState = (deathsByAgeGroups, stateName, selectedYear) => {\r\n    \r\n    let ageGroupDataSet = [];\r\n\r\n    if (selectedYear === \"0\"){\r\n        const temp = deathsByAgeGroups\r\n        .filter(data => data.state.toLowerCase() === stateName.toLowerCase())   \r\n        ageGroupDataSet = combineAgeGroupValues(temp);    \r\n    }\r\n    else {\r\n        ageGroupDataSet = deathsByAgeGroups\r\n        .filter(data => data.state.toLowerCase() === stateName.toLowerCase() && data.year === selectedYear)    \r\n    }\r\n\r\n    return ageGroupDataSet.sort((a,b) => compareAgeGroupValues(a.age_group,b.age_group));\r\n}    \r\n\r\nexport const formatAgeGroupName = (ageGroupName) => {\r\n    \r\n    const newGroupName = ageGroupName.replace(\"years and over\",\"+\").replace(\"years\",\"\").replace(\"year\",\"\").replace(\"Under\",\"<\"); \r\n\r\n    return newGroupName;\r\n}\r\n\r\nexport const formatAgeGroupNames = (ageGroups) => {\r\n    const shortNames = [];\r\n\r\n    ageGroups.forEach(group => {\r\n        const groupName = formatAgeGroupName(group); \r\n        shortNames.push(groupName);\r\n    });\r\n\r\n    return shortNames;\r\n}\r\n\r\nconst compareAgeGroupValues = (a, b) => {\r\n\r\n    let numA = Number(a.substring(0,2).replace(\"-\",\"\").toLowerCase().replace(\"un\",\"0\"));\r\n    let numB = Number(b.substring(0,2).replace(\"-\",\"\").toLowerCase().replace(\"un\",\"0\"));\r\n\r\n    if (numA > numB) return 1;\r\n    if (numA < numB) return -1;\r\n\r\n    return 0;\r\n}\r\n\r\nexport const getChartDataset = (data, fieldNames) => {\r\n\r\n    const fieldDatasets = [];\r\n\r\n    // Initialize the datasets for each field.\r\n    fieldNames.forEach ((fieldName, index) => {\r\n        fieldDatasets.push({\r\n            fieldName: fieldName, \r\n            label: DATA_FIELD_DISPLAY_NAMES[fieldName],\r\n            fill: false,\r\n            backgroundColor: DATA_FIELD_COLORS[index],\r\n            borderColor: DATA_FIELD_COLORS[index],\r\n            borderWidth: 1.5,\r\n            data: []\r\n        })\r\n    })\r\n\r\n    data.forEach(row => {\r\n        fieldNames.forEach (fieldName => {\r\n            const fieldData = fieldDatasets.find((data => data.fieldName === fieldName))    \r\n            fieldData.data.push(!row[fieldName] || row[fieldName] < 0 ? 0 : row[fieldName]);\r\n        })\r\n    });\r\n\r\n    return fieldDatasets;\r\n}\r\n\r\nexport const getAgeGroupChartDataset = (covidDeaths, allDeaths) => {\r\n\r\n    const ageGroupDataSet = [\r\n        {    \r\n            label: \"Covid-19\",\r\n            backgroundColor: \"red\",\r\n            data:covidDeaths \r\n        },\r\n        { \r\n            label: \"All Deaths\",\r\n            backgroundColor: \"blue\",\r\n            data:allDeaths\r\n        }\r\n    ];\r\n\r\n    return ageGroupDataSet;\r\n}\r\n\r\nexport const getDateListFromCDCData = (dataSet) => {\r\n\r\n    const datesList = dataSet.map(item => item.date);\r\n\r\n    const newDateList = [];\r\n\r\n    datesList.forEach(item => {\r\n        var dateString = String(item);\r\n        var year = Number(dateString.substring(2,4));\r\n        var month = Number(dateString.substring(5,7));\r\n        var day = Number(dateString.substring(8,10));\r\n        \r\n        //newDateList.push(month + \"/\" + day + \"/\" + year);\r\n        newDateList.push(new Date(month + \"/\" + day + \"/\" + year));\r\n    });\r\n\r\n    return newDateList;\r\n}","const ChartConfigTypes = {\r\n    SET_STATE_SELECTION : \"SET_STATE_SELECTION\",\r\n    SET_DATE_RANGE_SELECTION : \"SET_DATE_RANGE_SELECTION\",\r\n    SET_FIELD_SELECTION : \"SET_FIELD_SELECTION\",\r\n    SET_COVID19_DATA : \"SET_COVID19_DATA\",\r\n    SET_STATE_HISTORY_DATA: \"SET_STATE_HISTORY_DATA\",\r\n    SET_YEAR_SELECTION : \"SET_YEAR_SELECTION\"\r\n};\r\n\r\nexport default ChartConfigTypes;","//export const URL_CDC_CASESDEATHS = \"https://data.cdc.gov/Case-Surveillance/United-States-COVID-19-Cases-and-Deaths-by-State-o/9mfq-cb36\";\r\n//export const URL_HEALTHDATA_HOSPITALDATA = \"https://healthdata.gov/Hospital/COVID-19-Reported-Patient-Impact-and-Hospital-Capa/g62h-syeh\";\r\n//export const URL_CDC_DEATHSBYAGE=\"https://data.cdc.gov/NCHS/Provisional-COVID-19-Death-Counts-by-Sex-Age-and-S/9bhg-hcku\";\r\n//export const URL_CDC_VACCINES_JJ = \"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/w9zu-fywh\";\r\n//export const URL_CDC_VACCINES_MODERNA =\"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/b7pe-5nws\";\r\n//export const URL_CDC_VACCINES_PFIZER = \"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/saz5-9hgg\"\r\n\r\n\r\nexport const CDC_LINKS = {\r\n    URL_CDC_CASESDEATHS : \"https://data.cdc.gov/Case-Surveillance/United-States-COVID-19-Cases-and-Deaths-by-State-o/9mfq-cb36\",\r\n    URL_CDC_DEATHSBYAGE : \"https://data.cdc.gov/NCHS/Provisional-COVID-19-Death-Counts-by-Sex-Age-and-S/9bhg-hcku\",\r\n    URL_CDC_VACCINES_JJ : \"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/w9zu-fywh\",\r\n    URL_CDC_VACCINES_MODERNA : \"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/b7pe-5nws\",\r\n    URL_CDC_VACCINES_PFIZER : \"https://data.cdc.gov/Vaccinations/COVID-19-Vaccine-Distribution-Allocations-by-Juris/saz5-9hgg\"\r\n}\r\n\r\nexport const HEALTHDATA_LINKS = {\r\n    HOSPITALDATA : \"https://healthdata.gov/Hospital/COVID-19-Reported-Patient-Impact-and-Hospital-Capa/g62h-syeh\"\r\n}","import React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport './chart-config.css';\r\nimport {YEARS, YEARS_DEFAULT, YEAR_KEYS} from '../../utilities/data-fields';\r\nimport {STATE_INFO} from '../../utilities/states-meta-data';\r\nimport {setStateSelection, setYearSelection} from '../../redux/chart-config/chart-config.actions';\r\n\r\nconst ChartConfiguration = ({selectedState, selectedYear, setStateSelection, setYearSelection}) => {\r\n\r\n    const statesKeys = Object.keys(STATE_INFO);\r\n    \r\n    const handleStateSelection = (event) => {\r\n        setStateSelection(event.target.value);\r\n    }\r\n\r\n    const handleYearSelection = (event) => {\r\n        setYearSelection(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"chart-configuration\">\r\n            <div className=\"top-section\">\r\n                <span className=\"config-section\">\r\n                    <select name=\"stateSelection\" defaultValue={!selectedState ? \"USA\" : selectedState}  onChange={handleStateSelection}>\r\n                        {statesKeys.map ((item) => \r\n                            <option key={item} value={item} >{STATE_INFO[item].name}</option>\r\n                        )}\r\n                    </select>\r\n                </span>\r\n                \r\n                <span className=\"config-year\">\r\n                    <select name=\"yearSelection\" defaultValue={!selectedYear ? YEARS_DEFAULT : selectedYear}  onChange={handleYearSelection}>\r\n                        {YEAR_KEYS.map ((item) => \r\n                            <option key={item} value={item} >{YEARS[item]}</option>\r\n                        )}\r\n                    </select>\r\n                </span>\r\n                \r\n            </div>            \r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedYear: state.chartConfig.selectedYear\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStateSelection: (userSelectedState) => dispatch(setStateSelection(userSelectedState)),\r\n    setYearSelection: (userSelectedYear) => dispatch(setYearSelection(userSelectedYear))\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ChartConfiguration);","import ChartConfigTypes from './chart-config.types';\r\n\r\nexport const setStateSelection = (stateSelection) => ({\r\n    type : ChartConfigTypes.SET_STATE_SELECTION,\r\n    payload: stateSelection\r\n});\r\n\r\nexport const setYearSelection = (yearSelection) => ({\r\n    type : ChartConfigTypes.SET_YEAR_SELECTION,\r\n    payload: yearSelection\r\n});\r\n\r\nexport const setCOVID19Data = (data) => ({\r\n    type : ChartConfigTypes.SET_COVID19_DATA,\r\n    payload: data\r\n});\r\n\r\n\r\n\r\n","\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Chart from 'chart.js';\r\nimport './chart-display.css';\r\n\r\n// Necessary to be able to clear previous charts\r\nlet currentLineChart = [];\r\n\r\n\r\nconst ChartDisplay = ({chartType, chartOptions, chartLabels, chartDataSet, chartId}) => {\r\n    const chartContainer = useRef(null);\r\n    const [chartInstance, setChartInstance] = useState(null);\r\n\r\n    useEffect(() => {\r\n\r\n        if (chartContainer && chartContainer.current) {\r\n            const chartConfig = {\r\n                type: chartType,\r\n                options: chartOptions,\r\n                data: {\r\n                    labels: chartLabels,\r\n                    datasets: chartDataSet\r\n                }            \r\n            }\r\n\r\n            // Destroy previous chart if it exists \r\n            if (typeof currentLineChart[chartId] !== \"undefined\") currentLineChart[chartId].destroy();\r\n\r\n            currentLineChart[chartId] = new Chart(chartContainer.current, chartConfig);\r\n            setChartInstance(currentLineChart);\r\n            \r\n        }\r\n    }, [chartContainer, chartType, chartOptions, chartLabels, chartDataSet, chartId]);\r\n    \r\n    return (\r\n        <div className=\"chart-display\">\r\n            <canvas id={!chartInstance ? \"0\" : chartId } ref={chartContainer} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChartDisplay;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './cdc-history-chart.css';\r\n\r\nimport {YEARS} from '../../utilities/data-fields';\r\nimport ChartDisplay from '../chart-display/chart-display.component';\r\n\r\nimport {\r\n    getChartDataset, \r\n    getDateListFromCDCData,\r\n} from '../../utilities/chart-data-processing';\r\n\r\nimport {STATE_INFO} from '../../utilities/states-meta-data';\r\n\r\nconst CDCHistoryChart = ({dataSet, selectedState, selectedYear, selectedFieldGroup, stateChartTitle, chartId, chartOptions, dataSourceURL, dataSourceLabel}) => {  \r\n    \r\n    const dataFetchedSuccessfully = Array.isArray(dataSet) && dataSet.length > 0;\r\n    const chartDataSet = getChartDataset(dataSet, selectedFieldGroup);\r\n    const dateList = getDateListFromCDCData(dataSet);\r\n    \r\n    //console.log(\"dateList = \" + dateList);\r\n\r\n    return (\r\n        <div className=\"dashboard-component state-history-chart\">\r\n            <div className=\"dashboard-component-title chart-header\">\r\n                <span>{stateChartTitle}</span> <span>for {STATE_INFO[selectedState].name}</span> <span>for {YEARS[selectedYear]}</span>\r\n            </div>\r\n            {dataFetchedSuccessfully ? \r\n                    <ChartDisplay \r\n                    chartType=\"line\"\r\n                    chartOptions = {chartOptions}\r\n                    chartLabels = {dateList} \r\n                    chartDataSet = {chartDataSet}\r\n                    chartId = {chartId}\r\n                    />\r\n            : \r\n                <div>Problem fetching data from CDC site...</div>\r\n            }\r\n\r\n            <div className=\"data-sources\">Data:&nbsp;\r\n                <span className=\"site-link\" onClick={()=> window.open(dataSourceURL)}>{dataSourceLabel}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedYear: state.chartConfig.selectedYear,\r\n});\r\n\r\nexport default connect(mapStateToProps)(CDCHistoryChart);","import styled from 'styled-components';\r\n\r\nexport const SpinnerOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SpinnerContainer = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 3px solid rgba(195, 195, 195, 0.6);\r\n  border-radius: 50%;\r\n  border-top-color: #636767;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport {SpinnerContainer, SpinnerOverlay} from './spinner.styles.jsx';\r\n\r\nconst Spinner = () => (\r\n    <SpinnerOverlay>\r\n        <SpinnerContainer/>\r\n    </SpinnerOverlay>\r\n);\r\n\r\nexport default Spinner;\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './data-totals.css';\r\n\r\nimport {getDisplayNumber, getPercentage} from '../../utilities/formatting'\r\nimport {STATE_INFO} from '../../utilities/states-meta-data';\r\n\r\nconst DataTotals = ({selectedState, cdcTotalsByJurisdiction}) => {\r\n\r\n    const dataFetchedSuccessfully = Array.isArray(cdcTotalsByJurisdiction) && cdcTotalsByJurisdiction.length > 0;\r\n\r\n    let stateInfo = STATE_INFO[selectedState];\r\n\r\n    let jurisdictionData = [];        \r\n    let percentPositive =  0;\r\n    let percentDeath =  0\r\n    let percentHospitalization = 0;\r\n    let percentICU = 0;\r\n    let percentDeathOfPositive = 0;\r\n\r\n    if (dataFetchedSuccessfully) {\r\n        jurisdictionData = cdcTotalsByJurisdiction.find(data => data.state===selectedState);\r\n        percentPositive =  getPercentage(jurisdictionData.total_cases,stateInfo.population);\r\n        percentDeath =  getPercentage(jurisdictionData.total_deaths,stateInfo.population);\r\n        percentHospitalization =  getPercentage(jurisdictionData.inpatient_beds_covid,jurisdictionData.inpatient_beds);\r\n        percentICU =  getPercentage(jurisdictionData.icu_beds_covid,jurisdictionData.icu_beds);\r\n        percentDeathOfPositive = getPercentage(jurisdictionData.total_deaths, jurisdictionData.total_cases);\r\n    }\r\n    \r\n    return (\r\n        <div className=\"dashboard-component overview\">\r\n            <div className=\"dashboard-component-title\">{stateInfo.name} Current Overview</div>\r\n            {dataFetchedSuccessfully ? \r\n                <div className=\"data-totals\">\r\n                    <div className=\"data-row\">\r\n                        <div className=\"data-label\">Total Cases</div>\r\n                        <div className=\"data-number\">{getDisplayNumber(jurisdictionData.total_cases)}</div>\r\n                        <div className=\"percent\">{percentPositive} of Est. Population**</div>\r\n                    </div>\r\n                    <div className=\"data-row\">\r\n                        <div className=\"data-label\">Total Deaths</div>\r\n                        <div className=\"data-number\">{getDisplayNumber(jurisdictionData.total_deaths)}</div>\r\n                        <div className=\"percent\">{percentDeath} of Est. Population** <br/>{percentDeathOfPositive} of Total Cases</div>\r\n                    </div>\r\n                    <div className=\"data-row\">\r\n                        <div className=\"data-label\">Hospitalized</div>\r\n                        <div className=\"data-number\">{getDisplayNumber(jurisdictionData.inpatient_beds_covid)}</div>\r\n                        <div className=\"percent\">{percentHospitalization} of {getDisplayNumber(jurisdictionData.inpatient_beds)}<br/>Total Inpatient Beds Available</div>\r\n                    </div>\r\n                    <div className=\"data-row\">\r\n                        <div className=\"data-label\">Intensive Care (ICU)</div>\r\n                        <div className=\"data-number\">{getDisplayNumber(jurisdictionData.icu_beds_covid)}</div>\r\n                        <div className=\"percent\">{percentICU} of {getDisplayNumber(jurisdictionData.icu_beds)}<br/>Total ICU Beds Available</div>\r\n                    </div>\r\n                </div>            \r\n            : \r\n                <div>Problem fetching data from CDC site...</div>\r\n            }\r\n            <div className=\"data-sources\">\r\n                <div>** Estimated population of {selectedState}: {getDisplayNumber(stateInfo.population)}</div>\r\n                Data:&nbsp;\r\n                <span className=\"site-link\" onClick={()=> window.open(\"https://data.cdc.gov/Case-Surveillance/United-States-COVID-19-Cases-and-Deaths-by-State-o/9mfq-cb36\")}>CDC</span>,&nbsp; \r\n                <span className=\"site-link\" onClick={()=> window.open(\"https://healthdata.gov/Hospital/COVID-19-Reported-Patient-Impact-and-Hospital-Capa/g62h-syeh\")}>Healthdata.gov</span>,&nbsp; \r\n                <span className=\"site-link\" onClick={()=> window.open(\"https://www2.census.gov/programs-surveys/decennial/2020/data/apportionment/population-change-data-table.pdf\")}>U.S. Census Bureau</span>    \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedState: state.chartConfig.selectedState,\r\n    stateInformation: state.chartConfig.stateInformation,\r\n    cdcTotalsByJurisdiction: state.chartConfig.cdcTotalsByJurisdiction,\r\n});\r\n\r\nexport default connect(mapStateToProps)(DataTotals);","export const CHART_OPTIONS_FOR_STATE_HISTORY = {\r\n    responsive: true,\r\n    aspectRatio: 1,\r\n    maintainAspectRatio: false,\r\n    title: { display: false},\r\n    tooltips: {\r\n        mode: 'index', \r\n        intersect: false,\r\n        bodyAlign: 'left',\r\n        position: 'nearest',\r\n        callbacks: {\r\n            label: function(tooltipItem, data) {\r\n                var type = data.datasets[tooltipItem.datasetIndex].label;\r\n                var value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n                return type + \" : \" + parseInt(value).toLocaleString();\r\n            }\r\n        }\r\n    },\r\n    interaction: {\r\n        intersect: false,\r\n        axis: 'x'\r\n    },\r\n    legend: {position:'top', labels: {boxWidth:5, fontSize:14, usePointStyle:true, padding:15}},\r\n    elements: {\r\n        point:{\r\n            radius: 0\r\n        }\r\n    },\r\n    layout: {padding: {left: 0, right: 0, top: 0, bottom: 0}},\r\n   \r\n    scales: {\r\n        xAxes: [{\r\n            display: true,\r\n            type: 'time',\r\n            gridLines: {\r\n              display:true\r\n            },\r\n            time: {\r\n              minUnit: 'month',\r\n              tooltipFormat:'MM/DD/YYYY'\r\n            },\r\n            scaleLabel: {\r\n                display: true\r\n            }\r\n        }],\r\n        yAxes: [{\r\n            display: true,\r\n            scaleLabel: {\r\n                display: false\r\n            },\r\n            ticks: {\r\n                min: 0,\r\n                beginAtZero:true,\r\n                callback: function(label) {\r\n                    return formatYAxisDisplay(label);\r\n                }                \r\n            }\r\n        }]\r\n    }\r\n}\r\n\r\nexport const getChartDisplayForAgeGroupSeries = () => {\r\n    let chartOptions =JSON.parse(JSON.stringify(CHART_OPTIONS_FOR_STATE_HISTORY));\r\n    chartOptions[\"scales\"][\"xAxes\"][0][\"time\"][\"tooltipFormat\"] = \"MMM YYYY\";\r\n    return chartOptions;\r\n}\r\n\r\nexport const CHART_OPTIONS_FOR_AGE_GROUPS = {\r\n    aspectRatio: 1,\r\n    maintainAspectRatio: false,\r\n    responsive: true,\r\n    title: { display: false},\r\n    tooltips: {\r\n        mode: 'index', \r\n        intersect: false,\r\n        bodyAlign: 'left',\r\n        callbacks: {\r\n            label: function(tooltipItem, data) {\r\n              var type = data.datasets[tooltipItem.datasetIndex].label;\r\n              var value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n              return type + \" : \" + parseInt(value).toLocaleString();\r\n            }\r\n          }\r\n    },\r\n    hover: {mode: 'nearest', intersect: true},\r\n    legend: {position:'top', labels: {boxWidth:5, fontSize:14, usePointStyle:true, padding: 10}},\r\n    elements: {\r\n        point:{\r\n            radius: 0\r\n        }\r\n    },\r\n    layout: {\r\n        padding: {\r\n            left: 0,\r\n            right: 0,\r\n            top: 0,\r\n            bottom: 0\r\n        }},\r\n    scales: {\r\n        xAxes:[{\r\n            stacked: true,\r\n            ticks: {\r\n                beginAtZero: true,\r\n            }\r\n        }],\r\n        yAxes:[{\r\n            // stacked:false - places bars in FRONT of each other instead of on TOP of each other\r\n            // if set to true, the two bars are combined into one bar with a aggregate total.\r\n            stacked: false, \r\n            ticks: {\r\n                beginAtZero: true,\r\n                callback: function(label) {\r\n                    return formatYAxisDisplay(label);\r\n                }\r\n              }\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\n// Display K for thousands, M for millions\r\n// Instead of 200000 display 200K\r\n// Instead of 1900000 display 1M\r\nconst formatYAxisDisplay = (labelText) => {\r\n\r\n    const label = Number(labelText);\r\n\r\n    if (label >= 1000000) {\r\n        return label / 1000000 + 'M';\r\n    }\r\n    else if (label >= 10000) {\r\n        return label / 1000 + 'K';\r\n    }\r\n    else {\r\n        return label;\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './age-group-summary.css';\r\nimport {getAgeGroupChartDataset, combineAgeGroupValues, getAgeGroupDataForState, formatAgeGroupNames} from '../../utilities/chart-data-processing';\r\nimport {YEARS} from '../../utilities/data-fields';\r\nimport {STATE_INFO} from '../../utilities/states-meta-data';\r\nimport {CHART_OPTIONS_FOR_AGE_GROUPS} from '../../utilities/chart-options';\r\nimport ChartDisplay from '../chart-display/chart-display.component';\r\n\r\nconst AgeGroupSummary = ({deathsByAgeGroups, selectedState, selectedYear}) => {\r\n\r\n    const dataFetchedSuccessfully = Array.isArray(deathsByAgeGroups) && deathsByAgeGroups.length > 0;\r\n\r\n    const dataSet = combineAgeGroupValues(getAgeGroupDataForState(deathsByAgeGroups, selectedState, selectedYear));\r\n\r\n    const ageLabels = formatAgeGroupNames(dataSet.map(item => item.age_group));\r\n    const covid19Deaths = dataSet.map(item => item.sum_covid_19_deaths == null ? 0 : item.sum_covid_19_deaths);\r\n    const totalDeaths = dataSet.map(item => item.sum_total_deaths == null ? 0 : item.sum_total_deaths);\r\n    const chartDataSet = getAgeGroupChartDataset(covid19Deaths, totalDeaths);\r\n\r\n    return(\r\n        <div className=\"dashboard-component demographics\">\r\n            <div className=\"dashboard-component-title\">Deaths By Age Group Summary <span>for {STATE_INFO[selectedState].name}</span> <span>for {YEARS[selectedYear]}</span></div> \r\n            <div>\r\n                {dataFetchedSuccessfully ? \r\n                    <div className=\"demographics\">\r\n                        <div>\r\n                            <ChartDisplay \r\n                            chartType=\"bar\"\r\n                            chartOptions = {CHART_OPTIONS_FOR_AGE_GROUPS}\r\n                            chartDataSet = {chartDataSet}\r\n                            chartLabels = {ageLabels}\r\n                            chartId = \"DeathsByAgeGroup\"\r\n                            />\r\n                        </div>    \r\n                    </div>\r\n                : \r\n                    <div>Problem fetching data from CDC site...</div>\r\n                }\r\n            </div>    \r\n            <div className=\"data-sources\">\r\n                Data:&nbsp; <span className=\"site-link\" onClick={()=> window.open(\"https://data.cdc.gov/NCHS/Provisional-COVID-19-Death-Counts-by-Sex-Age-and-S/9bhg-hcku\")}>Center For Disease Control</span><br/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\nconst mapStateToProps = state => ({\r\n    selectedState: state.chartConfig.selectedState,\r\n    selectedYear: state.chartConfig.selectedYear,\r\n    deathsByAgeGroups: state.chartConfig.deathsByAgeGroups\r\n});\r\n\r\nexport default connect(mapStateToProps)(AgeGroupSummary);","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport \"./dashboard.css\";\r\n\r\nimport {getFreshData} from '../../utilities/data-fetching';\r\nimport {getCDCDataBySelection,getAgeGroupDataOverTime} from '../../utilities/chart-data-processing';\r\nimport {setCOVID19Data} from '../../redux/chart-config/chart-config.actions';\r\nimport {CDC_DATA_CHART_FIELD_GROUPS, AGE_GROUP_DATA_FIELDS} from '../../utilities/data-fields';\r\nimport {CDC_LINKS, HEALTHDATA_LINKS} from '../../utilities/urls';\r\nimport ChartConfiguration from '../chart-config/chart-config.component';\r\nimport CDCHistoryChart from '../cdc-history-chart/cdc-history-chart.component';\r\nimport Spinner from '../spinner/spinner.component';\r\nimport DataTotals from '../data-totals/data-totals.component';\r\nimport AgeGroupSummary from '../age-group-summary/age-group-summary.component';\r\nimport {CHART_OPTIONS_FOR_STATE_HISTORY, getChartDisplayForAgeGroupSeries} from '../../utilities/chart-options';\r\n\r\n\r\nconst Covid19UsDashboard =({setCOVID19Data, isDataLoaded, selectedState, selectedYear, cdcHistoryByJurisdiction,cdcHospitalDataByJurisdiction,deathsByAgeGroups}) => {  \r\n\r\n    useEffect(() => {\r\n\r\n        //console.log(\"useEffect()...\");\r\n        async function loadData() {\r\n            try {   \r\n                if (!isDataLoaded) {\r\n                    //console.log(\"retrievingData()...\");\r\n                    const freshData = await getFreshData();\r\n                    setCOVID19Data(freshData);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        loadData();\r\n\r\n    },[setCOVID19Data,isDataLoaded]);\r\n    \r\n    return (   \r\n\r\n        <div className=\"dashboard\">\r\n            <div className=\"page-header\">\r\n                <div className=\"page-title\"><span>COVID-19 Data Charts</span> <span>For United States</span></div>\r\n                <div className=\"page-subtitle\">50 U.S. States, D.C. and Puerto Rico</div>\r\n                <ChartConfiguration />\r\n            </div>\r\n            { !isDataLoaded ? ( \r\n                <Spinner />\r\n            ) : (\r\n                <div className=\"page-layout\">\r\n                    <DataTotals/>                            \r\n                    <CDCHistoryChart \r\n                        dataSet={getCDCDataBySelection(cdcHistoryByJurisdiction, selectedState, selectedYear)} \r\n                        selectedFieldGroup={CDC_DATA_CHART_FIELD_GROUPS.dailyTotals} \r\n                        stateChartTitle=\"New Cases & Deaths\" \r\n                        chartId=\"newCasesDeaths\"\r\n                        chartOptions = {CHART_OPTIONS_FOR_STATE_HISTORY}\r\n                        dataSourceURL={CDC_LINKS.URL_CDC_CASESDEATHS}\r\n                        dataSourceLabel=\"Center For Disease Control\" />\r\n                    <CDCHistoryChart \r\n                        dataSet={getCDCDataBySelection(cdcHospitalDataByJurisdiction, selectedState, selectedYear)} \r\n                        selectedFieldGroup={CDC_DATA_CHART_FIELD_GROUPS.hospitalData} \r\n                        stateChartTitle=\"Hospital Inpatient & ICU\" \r\n                        chartId=\"hospitalData\"\r\n                        chartOptions = {CHART_OPTIONS_FOR_STATE_HISTORY}\r\n                        dataSourceURL={HEALTHDATA_LINKS.hospitalData}\r\n                        dataSourceLabel=\"Healdata.gov\" />                    \r\n\r\n                    <CDCHistoryChart \r\n                        dataSet={getAgeGroupDataOverTime(deathsByAgeGroups, selectedState, selectedYear)} \r\n                        selectedFieldGroup={AGE_GROUP_DATA_FIELDS} \r\n                        stateChartTitle=\"Deaths BY Age Groups\" \r\n                        chartId=\"deathsByAgeGroupsOverTime\"\r\n                        chartOptions = {getChartDisplayForAgeGroupSeries()}\r\n                        dataSourceURL={CDC_LINKS.URL_CDC_DEATHSBYAGE}\r\n                        dataSourceLabel=\"Center For Disease Control\" />        \r\n\r\n                    <AgeGroupSummary/>\r\n                </div>\r\n            )}\r\n            <div className=\"page-footer\">\r\n                Data Sources:<br/>\r\n                <span className=\"footer-site-link\" onClick={()=> window.open(\"https://www.census.gov/programs-surveys/popest.html\")}>U.S. Census Bureau</span><br/>\r\n                <span className=\"footer-site-link\" onClick={()=> window.open(\"https://data.cdc.gov\")}>Center For Disease Control</span><br/>\r\n                <span className=\"footer-site-link\" onClick={()=> window.open(\"https://healthdata.gov/\")}>Healthdata.gov</span><br/>\r\n                ~ ~ ~<br/>\r\n                <span className=\"footer-site-link\" onClick={()=> window.open(\"https://tanyamiranda.github.io/\")}>Contact Developer</span><br/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isDataLoaded: state.chartConfig.isDataLoaded,\r\n    selectedState: state.chartConfig.selectedState, \r\n    selectedYear: state.chartConfig.selectedYear,\r\n    cdcHistoryByJurisdiction: state.chartConfig.cdcHistoryByJurisdiction,\r\n    cdcHospitalDataByJurisdiction: state.chartConfig.cdcHospitalDataByJurisdiction,\r\n    deathsByAgeGroups: state.chartConfig.deathsByAgeGroups\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setCOVID19Data: (data) => dispatch(setCOVID19Data(data))\r\n});\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Covid19UsDashboard);","import React from 'react';\r\n\r\nimport Covid19UsDashboard from './components/dashboard/dashboard.component';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <Covid19UsDashboard/>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ChartConfigTypes from './chart-config.types';\r\nimport {USA_IDENTIFIER, YEARS_DEFAULT} from '../../utilities/data-fields';\r\n\r\nconst INITIAL_STATE = {\r\n    statesHistoryData: null,\r\n    stateInformation: null,\r\n    countryHistoryData: null,\r\n    stateCountyInfo: null,\r\n    deathsByAgeGroups: null,\r\n    isDataLoaded: false,\r\n    selectedState: null,\r\n    selectedYear:null,   \r\n    selectedFields: []    \r\n};\r\n\r\nconst chartConfigReducer = (state = INITIAL_STATE, action) => {\r\n\r\n    switch(action.type) {\r\n\r\n        case ChartConfigTypes.SET_COVID19_DATA: \r\n            return {\r\n                selectedState: USA_IDENTIFIER,\r\n                selectedYear: YEARS_DEFAULT,\r\n                stateCountyInfo: action.payload.stateCountyInfo,\r\n                deathsByAgeGroups: action.payload.deathsByAgeGroups,\r\n                isDataLoaded: true,\r\n                cdcHistoryByJurisdiction: action.payload.cdcHistoryByJurisdiction,\r\n                cdcTotalsByJurisdiction: action.payload.cdcTotalsByJurisdiction,\r\n                cdcHospitalDataByJurisdiction : action.payload.cdcHospitalDataByJurisdiction\r\n            }\r\n            \r\n        case ChartConfigTypes.SET_STATE_SELECTION:\r\n            return {\r\n                ...state,\r\n                selectedState: action.payload\r\n            }\r\n        \r\n        case ChartConfigTypes.SET_YEAR_SELECTION:\r\n            return {\r\n                ...state,\r\n                selectedYear: action.payload\r\n            }\r\n        \r\n        default:\r\n            return state;\r\n        \r\n    }\r\n}\r\n\r\nexport default chartConfigReducer;","import {combineReducers} from 'redux';\r\n\r\nimport chartConfigReducer from './chart-config/chart-config.reducer';\r\n\r\nexport default combineReducers({\r\n    chartConfig: chartConfigReducer\r\n});\r\n","import {createStore, applyMiddleware} from 'redux';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nconst middlewareObjects = [];\r\n\r\n//Only use logger in development environement\r\nif (process.env.NODE_ENV === 'development') {\r\n    middlewareObjects.push(logger);\r\n}\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(...middlewareObjects));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport './index.css';\r\n\r\nimport App from './App';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}